(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{74:function(e,t,n){e.exports=n(94)},81:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r,a,o,i,c,l,u,s=n(1),f=n.n(s),h=n(60),d=n.n(h),m=(n(81),n(15)),p=n(0),v=n(2),g=n(6),y=n(4),b=n(3),w=n(8);function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new _(a||[]);return r(i,"_invoke",{value:x(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var x,O,j,L,_,k,S,N,G=function(){Object(p.m)();var e=Object(s.useState)(""),t=Object(y.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),o=Object(y.a)(a,2),i=o[0],c=o[1],l=Object(s.useState)(null),u=Object(y.a)(l,2),h=u[0],d=u[1],m=Object(s.useState)(!1),v=Object(y.a)(m,2),b=v[0],x=v[1],O=function(){var e=Object(g.a)(E().mark(function e(){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://social-media-mern.onrender.com/google/authenticate","_self");case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(E().mark(function e(t){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!0),r={Headers:{"Content-Type":"application/json"}},e.next=5,w.a.post("/api/v1/login",{username:n,password:i},r).then(function(e){x(!1),window.location.reload()}).catch(function(e){d(e.response.data.message),x(!1)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return f.a.createElement(P,null,window.innerWidth>769&&f.a.createElement(C,{src:"/OnboardImage.png"}),f.a.createElement(F,null,f.a.createElement(T,{src:"InstagramHeading.png"}),f.a.createElement(I,{onSubmit:j},f.a.createElement("input",{type:"text",name:"username",id:"username",value:n,className:"form-control",placeholder:"username",autoComplete:"off",onChange:function(e){r(e.target.value)},required:!0}),f.a.createElement("input",{type:"password",name:"password",id:"password",value:i,className:"form-control",placeholder:"password",onChange:function(e){c(e.target.value)},required:!0}),h&&f.a.createElement("div",{class:"alert alert-danger",role:"alert",style:{width:"100%"}},h),f.a.createElement("button",{className:"btn btn-primary",disabled:!!b},"Login")),f.a.createElement("span",{style:{margin:"1rem",fontSize:"1rem"}},"Or"),f.a.createElement(A,{className:"google-onboard-btn btn btn-primary",onClick:O},f.a.createElement(z,{src:"GoogleLogo.png",className:""}),f.a.createElement("span",{style:{margin:0}},"Login/Register with Google"))))},P=b.a.div(r||(r=Object(v.a)(["\n  width: 80%;\n  margin: 5rem auto 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (max-width: 769px) {\n    width: 98%;\n  }\n"]))),C=b.a.img(a||(a=Object(v.a)(["\n  width: 37rem;\n  height: 37rem;\n"]))),F=b.a.div(o||(o=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  padding: 2rem;\n  width: 30rem;\n  @media (max-width: 769px) {\n    width: 100%;\n    padding: 0.5rem;\n    border: none;\n    input {\n      margin: 2rem 0;\n    }\n  }\n"]))),T=b.a.img(i||(i=Object(v.a)(["\n  width: 14rem;\n  margin-bottom: 2rem;\n  @media (max-width: 769px) {\n    width: 10rem;\n  }\n"]))),I=b.a.form(c||(c=Object(v.a)(["\n  width: 100%;\n  input,\n  button {\n    margin: 0.5rem 0;\n    width: 100%;\n  }\n"]))),A=b.a.button(l||(l=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  @media (max-width: 769px) {\n    font-size: 0.9rem;\n  }\n"]))),z=b.a.img(u||(u=Object(v.a)(["\n  width: 1.5rem;\n  margin-right: 0.5rem;\n  @media (max-width: 769px) {\n    width: 1.5rem;\n  }\n"]))),M=n(14),D=n(9);function W(){W=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Y=function(){var e=Object(p.m)(),t=Object(D.c)(function(e){return e.user}).user,n=Object(D.b)(),r=Object(s.useState)(!0),a=Object(y.a)(r,2),o=a[0],i=a[1],c=function(){var e=Object(g.a)(W().mark(function e(){return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/logout").then(function(e){window.location.reload()});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return f.a.createElement(f.a.Fragment,null,t&&f.a.createElement(R,null,f.a.createElement(U,null,window.innerWidth>1025?f.a.createElement(H,{src:"/InstagramHeading.png"}):f.a.createElement("img",{src:"/InstaNavLogo.png",style:{width:"2rem",height:"2rem"}}),f.a.createElement(q,{onClick:function(){e("/home")}},f.a.createElement("i",{class:"fa-solid fa-house"}),window.innerWidth>1025&&f.a.createElement("span",null,"Home")),f.a.createElement(q,{onClick:function(){n({type:"TOGGLE_SEARCH_MODAL"})}},f.a.createElement("i",{class:"fa-solid fa-magnifying-glass"}),window.innerWidth>1025&&f.a.createElement("span",null,"Search")),f.a.createElement(q,{onClick:function(){e("/direct")}},f.a.createElement("i",{class:"fa-brands fa-facebook-messenger"}),window.innerWidth>1025&&f.a.createElement("span",null,"Messages")),f.a.createElement(q,{onClick:function(){n({type:"TOGGLE_NOTIFICATION_MODAL"})}},f.a.createElement("i",{class:"fa-regular fa-heart"}),window.innerWidth>1025&&f.a.createElement("span",null,"Notifications")),f.a.createElement(q,{onClick:function(){n({type:"TOGGLE_CREATE_POST_MODAL"})}},f.a.createElement("i",{class:"fa-regular fa-square-plus"}),window.innerWidth>1025&&f.a.createElement("span",null,"Create")),f.a.createElement(q,{onClick:function(){e("/".concat(t.username))}},f.a.createElement(B,{src:t&&t.avatar.url}),window.innerWidth>1025&&f.a.createElement("span",null,"Profile")),f.a.createElement(J,{className:"navbar-more-options",onClick:function(){i(function(e){return!e})}},f.a.createElement(Q,{className:o&&"hidden",onClick:c},f.a.createElement("span",null,"Logout")),f.a.createElement("i",{class:"fa-solid fa-bars"}),window.innerWidth>1025&&f.a.createElement("span",null,"More"))),f.a.createElement(V,null)))},R=b.a.div(x||(x=Object(v.a)(["\n  display: flex;\n  position: fixed;\n  background-color: white;\n"]))),U=b.a.div(O||(O=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  height: 100vh;\n  padding: 0 2.5rem;\n  font-size: 1.2rem;\n"]))),H=b.a.img(j||(j=Object(v.a)(["\n  width: 9rem;\n  height: 9rem;\n  margin: -2rem 0;\n"]))),q=b.a.div(L||(L=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  margin: 0.2rem 0;\n  span {\n    margin: 0 1rem;\n  }\n"]))),B=b.a.img(_||(_=Object(v.a)(["\n  border-radius: 50%;\n  height: 2rem;\n  width: 2rem;\n  object-fit: contain;\n  margin-right: -5px;\n"]))),J=Object(b.a)(q)(k||(k=Object(v.a)(["\n  margin-top: 4rem !important;\n"]))),Q=b.a.div(S||(S=Object(v.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  padding: 1rem;\n  position: absolute;\n  bottom: 5rem;\n"]))),V=b.a.div(N||(N=Object(v.a)(["\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  height: 100vh;\n"])));var K,X,Z,$,ee,te,ne,re,ae,oe,ie,ce,le,ue,se=function(){return f.a.createElement("div",{style:{display:"flex"}},f.a.createElement("img",{src:"/LoaderIcon.png",style:{width:"100px",height:"100px",objectFit:"contain",margin:"20vmax auto"}}))},fe=n(100),he=n(34);function de(){de=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var me,pe,ve,ge,ye,be,we,Ee,xe,Oe,je=function(e){var t=e.post,n=e.showPostModal,r=e.setShowPostModal;fe.a.addDefaultLocale(he);var a=new fe.a("en-US"),o=Object(p.m)(),i=Object(D.c)(function(e){return e.user}).user,c=Object(s.useState)(""),l=Object(y.a)(c,2),u=l[0],h=l[1],d=Object(s.useState)(null),m=Object(y.a)(d,2),v=m[0],b=m[1],E=Object(s.useState)(t.usersLiked.length),x=Object(y.a)(E,2),O=x[0],j=x[1],L=Object(s.useState)(t.comments),_=Object(y.a)(L,2),k=_[0],S=_[1],N=Object(s.useState)(!1),G=Object(y.a)(N,2),P=G[0],C=G[1],F=Object(s.useState)(!1),T=Object(y.a)(F,2),I=T[0],A=T[1],z=function(){var e=Object(g.a)(de().mark(function e(){return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i||alert("login to interact with a post"),!I){e.next=5;break}return e.abrupt("return");case 5:return A(!0),e.next=8,w.a.post("/api/v1/comment",{id:t._id,body:u}).then(function(e){console.log(e.data.comment),h(""),S(function(t){return[].concat(Object(M.a)(t),[e.data.comment])}),A(!1)}).catch(function(e){return console.log(e.message)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(g.a)(de().mark(function e(){return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i||alert("login to interact with a post"),!I){e.next=5;break}return e.abrupt("return");case 5:return A(!0),e.next=8,w.a.post("/api/v1/like",{id:t._id}).then(function(e){b(function(e){return!e}),j(v?function(e){return e-1}:function(e){return e+1}),A(!1)}).catch(function(e){return console.log(e.message)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(g.a)(de().mark(function e(){return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/api/v1/post/".concat(t._id)).then(function(e){!0===e.data.response&&(console.log(),r(!1),window.history.pushState(null,null,"/home"),window.location.reload())}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(de().mark(function e(n){return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/comment/delete",{postId:t._id,commentId:n}).then(function(e){return S(e.data.comments)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){b(!!i&&t.usersLiked.includes(i._id))},[i]),f.a.createElement(f.a.Fragment,null,t&&f.a.createElement(Le,{showPostModal:n},f.a.createElement(_e,{className:"fa-solid fa-xmark",onClick:function(){r(!1),o(-1),document.querySelector("body").style.overflow="auto"}}),f.a.createElement(ke,null,f.a.createElement(Me,{moreOption:P,onClick:function(){return C(function(e){return!e})}},f.a.createElement("i",{class:"fa-solid fa-ellipsis"}),i&&t.author._id===i._id&&f.a.createElement("span",{onClick:Y},"Delete post")),f.a.createElement(Se,null,f.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},f.a.createElement("div",{class:"carousel-inner"},t.images.map(function(e,n){return f.a.createElement("div",{class:0===n?"carousel-item active":"carousel-item"},f.a.createElement("img",{src:e.url,alt:"slide ".concat(n),className:"".concat(1===t.images.length?"crop":"non-crop")}))})),t.images.length>1&&f.a.createElement(f.a.Fragment,null,f.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},f.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Previous")),f.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},f.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Next"))))),f.a.createElement(Ne,null,f.a.createElement(Ge,null,f.a.createElement("img",{src:t.author.avatar.url,className:"avatar-img"}),f.a.createElement("span",{onClick:function(){return o("/".concat(t.author.username))}},t.author.username)),f.a.createElement("hr",null),f.a.createElement(Pe,null,f.a.createElement(Ce,null,f.a.createElement("div",null,f.a.createElement("img",{src:t.author.avatar.url,className:"avatar-img"}),f.a.createElement("span",null,t.author.username),f.a.createElement("span",{style:{fontWeight:"400"}},t.caption))),k&&k.map(function(e){return f.a.createElement(Ce,null,f.a.createElement("div",null,f.a.createElement("img",{src:e.author.avatar.url,className:"avatar-img"}),f.a.createElement("span",null,e.author.username),f.a.createElement("span",{style:{fontWeight:"400"}},e.body)),i._id===e.author._id&&f.a.createElement("div",null,f.a.createElement("i",{class:"fa-solid fa-trash",style:{cursor:"pointer"},onClick:function(){return R(e._id)}})))})),f.a.createElement(Fe,null,f.a.createElement("hr",null),f.a.createElement(Te,null,f.a.createElement(Ie,null,f.a.createElement("div",null,f.a.createElement("img",{src:"/".concat(v,"Heart.png"),onClick:W}),f.a.createElement("img",{src:"/Comment.png"}),f.a.createElement("img",{src:"/Send.png"})),f.a.createElement("div",null,f.a.createElement("img",{src:"/Save.png"}))),f.a.createElement("span",null,O," likes"),f.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.7rem",color:"grey"}},a.format(Date.now()-(new Date-t.createdAt)).toUpperCase())),f.a.createElement("hr",null),f.a.createElement(Ae,null,f.a.createElement(ze,{rows:1,cols:55,placeholder:"Add a comment...",value:u,onChange:function(e){h(e.target.value)}}),f.a.createElement("span",{className:"text-primary",onClick:z},"Post")))))))},Le=b.a.div(K||(K=Object(v.a)(["\n  width: 100%;\n  position: fixed;\n  z-index: 1000;\n  display: ",";\n"])),function(e){return e.showPostModal?"flex":"none"}),_e=b.a.i(X||(X=Object(v.a)(["\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n  font-size: 2rem;\n  cursor: pointer;\n  z-index: 1000;\n"]))),ke=b.a.div(Z||(Z=Object(v.a)(["\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 80rem;\n  height: 40rem;\n  margin: auto;\n  transition: 0.5s;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  display: flex;\n  flex: 1;\n"]))),Se=b.a.div($||($=Object(v.a)(["\n  flex: 0.5;\n  img {\n    width: 100%;\n    height: 40rem;\n    object-fit: cover;\n  }\n"]))),Ne=b.a.div(ee||(ee=Object(v.a)(["\n  flex: 0.5;\n  flex-direction: column;\n  position: relative;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n  }\n  .avatar-img {\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n  }\n"]))),Ge=b.a.div(te||(te=Object(v.a)(["\n  padding: 0.8rem;\n  span {\n    cursor: pointer;\n  }\n"]))),Pe=b.a.div(ne||(ne=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 24rem;\n  padding: 0.8rem;\n  overflow-y: scroll;\n  img {\n    margin-right: 5px;\n  }\n  span {\n    margin: 0 5px;\n    font-size: 0.9rem;\n  }\n"]))),Ce=b.a.div(re||(re=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0.5rem 0;\n  justify-content: space-between;\n"]))),Fe=b.a.div(ae||(ae=Object(v.a)(["\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n"]))),Te=b.a.div(oe||(oe=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  span {\n    font-size: 1rem;\n    margin-bottom: 0.2rem;\n  }\n"]))),Ie=b.a.div(ie||(ie=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 0 0.2rem;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n"]))),Ae=b.a.div(ce||(ce=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  span {\n    cursor: pointer;\n  }\n"]))),ze=b.a.textarea(le||(le=Object(v.a)(["\n  border: none;\n  outline: none;\n  resize: none;\n  width: 90%;\n  overflow: hidden;\n"]))),Me=b.a.div(ue||(ue=Object(v.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 1000;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"});function De(){De=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var We,Ye=function(e){var t=e.post;fe.a.addDefaultLocale(he);var n=new fe.a("en-US"),r=Object(p.m)(),a=Object(D.c)(function(e){return e.user}).user,o=Object(s.useState)(!1),i=Object(y.a)(o,2),c=i[0],l=i[1],u=Object(s.useState)(""),h=Object(y.a)(u,2),d=h[0],m=h[1],v=Object(s.useState)(null),b=Object(y.a)(v,2),E=b[0],x=b[1],O=Object(s.useState)(t.comments.length),j=Object(y.a)(O,2),L=j[0],_=j[1],k=Object(s.useState)(t.usersLiked.length),S=Object(y.a)(k,2),N=S[0],G=S[1],P=Object(s.useState)(!1),C=Object(y.a)(P,2),F=C[0],T=C[1],I=Object(s.useState)(!1),A=Object(y.a)(I,2),z=A[0],M=A[1],W=function(){var e=Object(g.a)(De().mark(function e(){return De().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/comment",{id:t._id,body:d}).then(function(e){m(""),_(function(e){return e+1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(g.a)(De().mark(function e(){return De().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=4;break}return e.abrupt("return");case 4:return M(!0),e.next=7,w.a.post("/api/v1/like",{id:t._id}).then(function(e){x(function(e){return!e}),G(E?function(e){return e-1}:function(e){return e+1}),M(!1)}).catch(function(e){console.log(e.message),M(!1)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(De().mark(function e(){return De().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/api/v1/post/".concat(t._id)).then(function(e){!0===e.data.response&&window.location.reload()}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){window.history.pushState(null,null,"/p/".concat(t._id)),l(!0),document.querySelector("body").style.overflow="hidden"};return Object(s.useEffect)(function(){a&&x(t.usersLiked.includes(a._id))},[a]),f.a.createElement(f.a.Fragment,null,a&&null!==E?f.a.createElement(f.a.Fragment,null,f.a.createElement(je,{post:t,showPostModal:c,setShowPostModal:l}),f.a.createElement(Re,null,f.a.createElement(Xe,{moreOption:F,onClick:function(){return T(function(e){return!e})}},f.a.createElement("i",{class:"fa-solid fa-ellipsis"}),t.author._id===a._id&&f.a.createElement("span",{onClick:R},"Delete post")),f.a.createElement(Ue,null,f.a.createElement("img",{src:t.author.avatar.url}),f.a.createElement("span",{onClick:function(){return r("/".concat(t.author.username))}},t.author.username)),f.a.createElement("hr",null),f.a.createElement(He,{imagesLength:t.images.length,onDoubleClick:Y},f.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},f.a.createElement("div",{class:"carousel-inner"},t.images.map(function(e,t){return f.a.createElement("div",{class:"carousel-item ".concat(0===t?"active":"")},f.a.createElement("img",{src:e.url,alt:"slide ".concat(t)}))})),t.images.length>1&&f.a.createElement(f.a.Fragment,null,f.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},f.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Previous")),f.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},f.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Next"))))),f.a.createElement("hr",null),f.a.createElement(qe,null,f.a.createElement(Be,null,f.a.createElement("div",null,f.a.createElement("img",{src:"".concat(E,"Heart.png"),onClick:Y}),f.a.createElement("img",{src:"Comment.png",onClick:window.innerWidth>769?U:function(){r("/p/".concat(t._id,"/comments"))}}),f.a.createElement("img",{src:"Send.png"})),f.a.createElement("div",null,f.a.createElement("img",{src:"Save.png"}))),f.a.createElement("span",null,N," likes"),f.a.createElement(Je,null,f.a.createElement("span",null,t.author.username),f.a.createElement("span",{style:{fontWeight:"400"}},t.caption)),f.a.createElement(Qe,{onClick:window.innerWidth>769?U:function(){r("/p/".concat(t._id,"/comments"))}},L>0?"View all ".concat(L," comments"):"0 comments"),f.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.6rem",color:"grey"}},n.format(Date.now()-(new Date-t.createdAt)).toUpperCase())),window.innerWidth>769&&f.a.createElement(f.a.Fragment,null,f.a.createElement("hr",null),f.a.createElement(Ve,null,f.a.createElement(Ke,{rows:1,cols:55,placeholder:"Add a comment...",value:d,onChange:function(e){m(e.target.value)}}),f.a.createElement("span",{className:"text-primary",onClick:W},"Post"))))):f.a.createElement(se,null))},Re=b.a.div(me||(me=Object(v.a)(["\n  width: 30rem;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  margin: 1rem 0;\n  position: relative;\n  @media (max-width: 426px) {\n    width: 100%;\n    border: none;\n    border-top: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0;\n  }\n"]))),Ue=b.a.div(pe||(pe=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n    cursor: pointer;\n  }\n"]))),He=b.a.div(ve||(ve=Object(v.a)(["\n  img {\n    width: ",";\n    height: ",";\n    object-fit: ",";\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 100%;\n      height: ",";\n      object-fit: ",";\n    }\n  }\n"])),function(e){return 1===e.imagesLength?"100%":"30rem"},function(e){return 1===e.imagesLength?"100%":"30rem"},function(e){return 1===e.imagesLength?"full":"cover"},function(e){return 1===e.imagesLength?"100%":"23rem"},function(e){return 1===e.imagesLength?"full":"cover"}),qe=b.a.div(ge||(ge=Object(v.a)(["\n  padding: 0 0.5rem;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n  span {\n    margin: 0.2rem 0.5rem;\n    font-weight: 500;\n  }\n  @media (max-width: 426px) {\n    font-size: 0.9rem;\n  }\n"]))),Be=b.a.div(ye||(ye=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 1.2rem;\n      height: 1.2rem;\n    }\n  }\n"]))),Je=b.a.div(be||(be=Object(v.a)(["\n  display: flex;\n  margin: 0 5px 5px;\n  span {\n    margin: 0 3px;\n    font-size: 0.9rem;\n  }\n  @media (max-width: 426px) {\n    span {\n      font-size: 0.85rem;\n    }\n  }\n"]))),Qe=b.a.span(we||(we=Object(v.a)(["\n  font-weight: 400 !important;\n  color: grey;\n  font-size: 0.9rem;\n  cursor: pointer;\n  @media (max-width: 426px) {\n    font-size: 0.8rem;\n  }\n"]))),Ve=b.a.div(Ee||(Ee=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.8rem;\n  span {\n    cursor: pointer;\n  }\n"]))),Ke=b.a.textarea(xe||(xe=Object(v.a)(["\n  resize: none;\n  border: none;\n  outline: none;\n  font-size: 0.9rem;\n  overflow-y: auto;\n"]))),Xe=b.a.div(Oe||(Oe=Object(v.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 500;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    right: 0.5rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"});function Ze(){Ze=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var $e,et=function(){var e=Object(s.useState)(null),t=Object(y.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!0),o=Object(y.a)(a,2),i=(o[0],o[1]),c=(Object(D.c)(function(e){return e.user}).user,function(){var e=Object(g.a)(Ze().mark(function e(){return Ze().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/feed").then(function(e){r(e.data.posts),i(!1)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}());return Object(s.useEffect)(function(){c()},[]),f.a.createElement(f.a.Fragment,null,n?f.a.createElement(f.a.Fragment,null,n.length>0?f.a.createElement(f.a.Fragment,null,n&&f.a.createElement(tt,null,n.map(function(e){return f.a.createElement(f.a.Fragment,null,f.a.createElement(Ye,{post:e}))}))):f.a.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"center",marginTop:"10rem"}},f.a.createElement("span",{style:{fontSize:"1.5rem"}},"Welcome to Instagram"),f.a.createElement("span",null,"When you follow people, you'll see the photos that they post here."))):f.a.createElement(se,null))},tt=b.a.div(We||(We=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: hidden;\n  position: relative;\n  align-items: center;\n"])));var nt,rt,at,ot=function(){var e=Object(D.c)(function(e){return e.user}).user,t=Object(p.m)();return f.a.createElement(f.a.Fragment,null,e&&f.a.createElement(f.a.Fragment,null,f.a.createElement("hr",null),f.a.createElement(it,null,f.a.createElement("i",{class:"fa-solid fa-house",onClick:function(){return t("/home")}}),f.a.createElement("i",{class:"fa-solid fa-magnifying-glass",onClick:function(){t("/search")}}),f.a.createElement("i",{class:"fa-brands fa-facebook-messenger",onClick:function(){return t("/direct")}}),f.a.createElement("img",{src:e.avatar.url,onClick:function(){return t("/".concat(e.username))}}))))},it=b.a.div($e||($e=Object(v.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  i {\n    font-size: 1.4rem;\n  }\n  img {\n    width: 1.8rem;\n    height: 1.8rem;\n    border-radius: 50%;\n  }\n"])));function ct(){ct=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var lt,ut,st,ft,ht,dt,mt,pt=function(e){var t=e.images,n=e.clearImage,r=Object(D.c)(function(e){return e.user}).user,a=Object(D.c)(function(e){return e.modal}).mobilePostModal,o=Object(D.b)(),i=Object(s.useState)(""),c=Object(y.a)(i,2),l=c[0],u=c[1],h=Object(s.useState)(!1),d=Object(y.a)(h,2),m=d[0],p=d[1],v=function(){var e=Object(g.a)(ct().mark(function e(){return ct().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=4;break}return e.abrupt("return");case 4:return p(!0),e.next=7,w.a.post("/api/v1/create",{caption:l,images:t},{headers:{"Content-Type":"application/json"}}).then(function(e){u(""),n(),o({type:"TOGGLE_MOBILE_POST_MODAL"}),p(!1),window.location.reload()}).catch(function(e){return console.log(e)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return f.a.createElement(f.a.Fragment,null,r&&f.a.createElement(vt,{mobilePostModal:a},f.a.createElement(gt,null,f.a.createElement("i",{class:"fa-solid fa-xmark",onClick:function(){n(),o({type:"TOGGLE_MOBILE_POST_MODAL"}),document.querySelector("body").style.overflow="auto"}}),f.a.createElement("span",null,"New Post"),f.a.createElement("button",{className:"btn btn-primary btn-sm",disabled:!!m},f.a.createElement("span",{onClick:v},"Share"))),f.a.createElement("hr",null),f.a.createElement(yt,null,f.a.createElement("div",{style:{display:"flex"}},f.a.createElement("img",{src:r.avatar.url,className:"avatar-img"}),f.a.createElement("textarea",{value:l,onChange:function(e){return u(e.target.value)},placeholder:"Write a caption..."})),f.a.createElement("img",{src:t[0],className:"post-img"}))))},vt=b.a.div(nt||(nt=Object(v.a)(["\n  background-color: white;\n  height: 100vh;\n  width: 100vw;\n  z-index: 10000;\n  position: absolute;\n  display: ",";\n  flex-direction: column;\n"])),function(e){return e.mobilePostModal?"flex":"none"}),gt=b.a.div(rt||(rt=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  font-weight: 500;\n  i {\n    font-size: 1.5rem;\n    margin-right: 1rem;\n  }\n"]))),yt=b.a.div(at||(at=Object(v.a)(["\n  display: flex;\n  padding: 1rem;\n  justify-content: space-between;\n  textarea {\n    border: none;\n    outline: none;\n    margin-left: 0.5rem;\n    font-size: 0.85rem;\n  }\n  .avatar-img {\n    height: 2rem;\n    width: 2rem;\n    border-radius: 50%;\n  }\n  .post-img {\n    height: 3rem;\n    width: 3rem;\n  }\n"])));var bt=function(){var e=Object(p.m)(),t=Object(D.b)(),n=(Object(D.c)(function(e){return e.user}).userLoading,Object(s.useState)([])),r=Object(y.a)(n,2),a=r[0],o=r[1];return window.innerWidth>768?f.a.createElement(wt,null,f.a.createElement(Et,null,f.a.createElement(Y,null)),f.a.createElement(xt,null,f.a.createElement(et,null)),f.a.createElement(Ot,null)):f.a.createElement(jt,null,f.a.createElement(pt,{images:a,clearImage:function(){return o([])}}),f.a.createElement(Lt,null,f.a.createElement("img",{src:"/InstagramHeading.png"}),f.a.createElement("div",null,f.a.createElement("label",{htmlFor:"postInput"},f.a.createElement("i",{class:"fa-regular fa-square-plus"})),f.a.createElement("input",{type:"file",id:"postInput",onChange:function(e){var n=new FileReader;n.onload=function(){2===n.readyState&&o(function(e){return[].concat(Object(M.a)(e),[n.result])})},n.readAsDataURL(e.target.files[0]),t({type:"TOGGLE_MOBILE_POST_MODAL"}),document.querySelector("body").style.overflow="hidden"},accept:"image/*",style:{display:"none"}}),f.a.createElement("i",{class:"fa-regular fa-heart",onClick:function(){return e("/notifications")}}))),f.a.createElement("hr",null),f.a.createElement(et,null),f.a.createElement(_t,null,f.a.createElement(ot,null)))},wt=b.a.div(lt||(lt=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex: 1;\n"]))),Et=b.a.div(ut||(ut=Object(v.a)(["\n  flex: 0.3;\n"]))),xt=b.a.div(st||(st=Object(v.a)(["\n  flex: 0.4;\n"]))),Ot=b.a.div(ft||(ft=Object(v.a)(["\n  flex: 0.3;\n"]))),jt=b.a.div(ht||(ht=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Lt=b.a.div(dt||(dt=Object(v.a)(["\n  padding: 0.7rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  background-color: white;\n  z-index: 1000;\n  img {\n    width: 7rem;\n  }\n  i {\n    font-size: 1.5rem;\n    margin-left: 1rem;\n  }\n"]))),_t=b.a.div(mt||(mt=Object(v.a)(["\n  position: fixed;\n  width: 100%;\n  bottom: 0;\n  z-index: 1000;\n"])));var kt=function(e){var t=e.children,n=Object(D.c)(function(e){return e.user}),r=n.user;return n.userLoading||r?t:f.a.createElement(p.a,{replace:!0,to:"/"})},St=n(42),Nt=n(70),Gt=n(69),Pt=n(30),Ct=Object(St.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_USER_REQ":return Object(Pt.a)({},e,{userLoading:!0,isAuthenticated:!1});case"LOAD_USER_SUCCESS":return Object(Pt.a)({},e,{userLoading:!1,isAuthenticated:!0,user:t.payload});case"LOAD_USER_FAIL":return Object(Pt.a)({},e,{userLoading:!1,isAuthenticated:!1,error:t.payload});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{createPostModal:!1,searchModal:!1,notificationModal:!1,mobilePostModal:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_CREATE_POST_MODAL":return Object(Pt.a)({},e,{createPostModal:!e.createPostModal});case"TOGGLE_SEARCH_MODAL":return Object(Pt.a)({},e,{searchModal:!e.searchModal});case"TOGGLE_NOTIFICATION_MODAL":return Object(Pt.a)({},e,{notificationModal:!e.notificationModal});case"TOGGLE_MOBILE_POST_MODAL":return Object(Pt.a)({},e,{mobilePostModal:!e.mobilePostModal});default:return e}}}),Ft=[Nt.a],Tt=Object(St.createStore)(Ct,Object(Gt.composeWithDevTools)(St.applyMiddleware.apply(void 0,Ft))),It=n(39),At=n.n(It);function zt(){zt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Mt,Dt,Wt,Yt,Rt,Ut=function(){return function(){var e=Object(g.a)(zt().mark(function e(t){var n,r;return zt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_USER_REQ"}),e.next=4,w.a.get("/api/v1/loadUser");case 4:n=e.sent,r=n.data,t({type:"LOAD_USER_SUCCESS",payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"LOAD_USER_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()};function Ht(){Ht=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var qt=function(){Object(p.m)();var e=Object(s.useState)(null),t=Object(y.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),o=Object(y.a)(a,2),i=o[0],c=o[1],l=Object(s.useState)(""),u=Object(y.a)(l,2),h=u[0],d=u[1],m=Object(s.useState)(""),v=Object(y.a)(m,2),b=v[0],E=v[1],x=Object(s.useState)(null),O=Object(y.a)(x,2),j=O[0],L=O[1],_=Object(s.useState)(null),k=Object(y.a)(_,2),S=k[0],N=k[1],G=Object(s.useState)(null),P=Object(y.a)(G,2),C=P[0],F=P[1],T=function(){var e=Object(g.a)(Ht().mark(function e(t){var n;return Ht().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),n={Headers:{"Content-Type":"application/json"}},e.next=5,w.a.post("/api/v1/register/process/s3",{name:i,username:h,password:b},n).then(function(e){N(!1),window.location.reload()}).catch(function(e){N(!1),L(e)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(Ht().mark(function e(){return Ht().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,w.a.get("/api/v1/register/process/s2").then(function(e){r(e.data.user),F(!1)}).catch(function(e){console.log(e.message)});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){n||At.a.get("token")||I()},[n]),f.a.createElement(f.a.Fragment,null,C||S?f.a.createElement(se,null):f.a.createElement(f.a.Fragment,null,n&&f.a.createElement(Bt,null,window.innerWidth>769&&f.a.createElement(Jt,{src:"OnboardImage.png"}),f.a.createElement(Qt,null,f.a.createElement(Vt,{src:"InstagramHeading.png"}),f.a.createElement(Kt,{onSubmit:T},f.a.createElement("input",{type:"text",name:"name",id:"name",className:"form-control",placeholder:"name",value:i,autoComplete:"off",onChange:function(e){c(e.target.value)}}),f.a.createElement("input",{type:"text",name:"email",id:"email",className:"form-control",placeholder:"email",value:n.email,disabled:!0,autoComplete:"off"}),f.a.createElement("input",{type:"text",name:"username",id:"username",className:"form-control onboarding-input",placeholder:"username",autoComplete:"off",required:!0,value:h,onChange:function(e){d(e.target.value)}}),j&&f.a.createElement("div",{class:"alert alert-danger",role:"alert",style:{width:"100%"}},"username has already been taken"),f.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control onboarding-input",placeholder:"password",required:!0,value:b,onChange:function(e){E(e.target.value)}}),f.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Create account"))))))},Bt=b.a.div(Mt||(Mt=Object(v.a)(["\n  width: 80%;\n  margin: 5rem auto 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (max-width: 769px) {\n    width: 98%;\n  }\n"]))),Jt=b.a.img(Dt||(Dt=Object(v.a)(["\n  width: 37rem;\n  height: 37rem;\n"]))),Qt=b.a.div(Wt||(Wt=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  padding: 2rem;\n  width: 30rem;\n  @media (max-width: 769px) {\n    width: 100%;\n    padding: 0.5rem;\n    border: none;\n    input {\n      margin: 2rem 0;\n    }\n  }\n"]))),Vt=b.a.img(Yt||(Yt=Object(v.a)(["\n  width: 14rem;\n  margin-bottom: 2rem;\n  @media (max-width: 769px) {\n    width: 10rem;\n  }\n"]))),Kt=b.a.form(Rt||(Rt=Object(v.a)(["\n  width: 100%;\n  input,\n  button {\n    margin: 0.5rem 0;\n    width: 100%;\n  }\n"])));var Xt=function(e){var t=e.children,n=Object(D.c)(function(e){return e.user}),r=n.isAuthenticated;return!n.userLoading&&r?f.a.createElement(p.a,{replace:!0,to:"/home"}):t};var Zt,$t,en,tn=function(e){var t=e.children,n=Object(D.c)(function(e){return e.user}),r=n.isAuthenticated,a=n.userLoading;return At.a.get("tempToken")?!a&&r?f.a.createElement(p.a,{replace:!0,to:"/home"}):t:f.a.createElement(p.a,{replace:!0,to:"/"})};var nn,rn,an,on,cn,ln,un,sn,fn,hn,dn,mn,pn,vn,gn=function(e){var t=e.users,n=e.showModal,r=e.toggleModal,a=e.isFollowers,o=Object(D.c)(function(e){return e.user}).user,i=Object(p.m)();return f.a.createElement(yn,{showModal:n},f.a.createElement(bn,null,f.a.createElement("i",{class:"fa-solid fa-xmark",onClick:r}),f.a.createElement("span",null,a?"Followers":"Following")),f.a.createElement("hr",null),f.a.createElement(wn,null,t.map(function(e){return f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("img",{src:e.avatar.url}),f.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){i("/".concat(e.username)),r()}},e.username)),o._id!==e._id&&f.a.createElement("button",{className:o.following.includes(e._id)?"btn btn-outline-dark btn-sm":"btn btn-primary btn-sm"},o.following.includes(e._id)?"Following":"Follow"))})))},yn=b.a.div(Zt||(Zt=Object(v.a)(["\n  display: ",";\n  flex-direction: column;\n  margin: auto;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  z-index: 1000;\n  width: 30rem;\n  height: 30rem;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 1rem;\n  transition: 0.3s;\n"])),function(e){return e.showModal?"flex":"none"}),bn=b.a.div($t||($t=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 1rem;\n  font-weight: 500;\n  position: relative;\n  i {\n    position: absolute;\n    right: 1rem;\n    font-size: 1.5rem;\n    cursor: pointer;\n  }\n"]))),wn=b.a.div(en||(en=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  padding: 1rem;\n  div {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 0 0.5rem;\n    align-items: center;\n    img {\n      width: 2rem;\n      height: 2rem;\n      border-radius: 50%;\n      margin-right: 1rem;\n    }\n  }\n"])));function En(){En=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var xn,On,jn,Ln,_n,kn,Sn,Nn,Gn,Pn,Cn,Fn,Tn,In,An=function(){var e=Object(p.m)(),t=Object(p.o)().username,n=Object(D.c)(function(e){return e.user}).user,r=Object(s.useState)(null),a=Object(y.a)(r,2),o=a[0],i=a[1],c=Object(s.useState)(!0),l=Object(y.a)(c,2),u=l[0],h=l[1],d=Object(s.useState)([]),m=Object(y.a)(d,2),v=m[0],b=m[1],E=Object(s.useState)(null),x=Object(y.a)(E,2),O=x[0],j=x[1],L=Object(s.useState)(null),_=Object(y.a)(L,2),k=_[0],S=_[1],N=Object(s.useState)(!1),G=Object(y.a)(N,2),P=G[0],C=G[1],F=Object(s.useState)(null),T=Object(y.a)(F,2),I=T[0],A=T[1],z=Object(s.useState)(null),M=Object(y.a)(z,2),W=M[0],R=M[1],U=Object(s.useState)(!1),H=Object(y.a)(U,2),q=H[0],B=H[1],J=Object(s.useState)(!0),Q=Object(y.a)(J,2),V=Q[0],K=Q[1],X=function(){var n=Object(g.a)(En().mark(function n(){return En().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),n.next=3,w.a.get("/api/v1/user/".concat(t)).then(function(e){i(e.data.user),A(e.data.user.followers.length),R(e.data.user.following.length),h(!1)}).catch(function(t){window.alert("user does not exist"),e(-1,{replace:!0})});case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),Z=function(){var e=Object(g.a)(En().mark(function e(){return En().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/post/user/".concat(t)).then(function(e){b(e.data.posts)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(g.a)(En().mark(function e(){return En().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/follower/add",{searchedUser:o}).then(function(e){S(!0),A(function(e){return e+1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(g.a)(En().mark(function e(){return En().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/follower/remove",{searchedUser:o}).then(function(e){S(!1),A(function(e){return e-1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),te=function(){B(function(e){return!e})},ne=function(){var t=Object(g.a)(En().mark(function t(){return En().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("/api/v1/chat",{secondUser:o._id}).then(function(t){e("/direct/".concat(t.data.chat._id),{replce:!0})}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)(function(){o&&o.username===t||(X(),Z()),n&&o&&n.following.includes(o._id)?S(!0):S(!1)},[o,t]),f.a.createElement(f.a.Fragment,null,!u&&o&&v?f.a.createElement(f.a.Fragment,null,o&&f.a.createElement(zn,null,O&&f.a.createElement(je,{post:O,showPostModal:P,setShowPostModal:C}),n&&f.a.createElement(gn,{users:V?o.followers:o.following,showModal:q,toggleModal:te,isFollowers:V}),f.a.createElement(Mn,null,f.a.createElement(Y,null)),f.a.createElement(Dn,null,f.a.createElement(Wn,null,f.a.createElement(Yn,null,f.a.createElement("img",{src:o.avatar.url})),f.a.createElement(Rn,null,f.a.createElement(Un,null,f.a.createElement(Jn,null,o.username),n&&f.a.createElement(f.a.Fragment,null,n.username===o.username?f.a.createElement(Hn,{onClick:function(){return e("/accounts/edit")}},"Edit profile"):f.a.createElement("button",{className:k?"btn btn-outline-dark":"btn btn-primary",onClick:k?ee:$},k?"Following":"Follow"),n.username!==o.username&&f.a.createElement("button",{className:"btn btn-outline-dark",style:{marginLeft:"0.5rem"},onClick:ne},"Message"))),f.a.createElement(qn,null,f.a.createElement("span",null,f.a.createElement("b",null,o.posts.length)," posts"),f.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){K(!0),te()}},f.a.createElement("b",null,I)," followers"),f.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){K(!1),te()}},f.a.createElement("b",null,W)," following")),f.a.createElement(Bn,null,f.a.createElement("h5",null,o.name),f.a.createElement("span",null,o.bio)))),f.a.createElement("hr",{style:{width:"70%",margin:"2rem 0"}}),f.a.createElement(Qn,null,f.a.createElement("i",{class:"fa-solid fa-table-cells"})," POSTS"),f.a.createElement(Vn,{postsLength:v.length},v&&v.length<1?f.a.createElement("h3",{style:{marginTop:"5vh"}},"No posts yet"):f.a.createElement(f.a.Fragment,null,v&&v.map(function(e){return f.a.createElement(Kn,{onClick:function(){!function(e){window.history.pushState(null,null,"/p/".concat(e._id)),j(e),document.querySelector("body").style.overflow="hidden"}(e),C(!0)}},f.a.createElement("div",{className:"hoverPostCard"},f.a.createElement("div",{style:{margin:"auto"}},f.a.createElement("span",null,f.a.createElement("i",{class:"fa-solid fa-heart"})," ",e.usersLiked.length),f.a.createElement("span",null,f.a.createElement("i",{class:"fa-solid fa-comment"})," ",e.comments.length))),f.a.createElement("img",{src:e.images[0].url,className:"postCard-img"}))})))))):f.a.createElement(se,null))},zn=b.a.div(nn||(nn=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  position: relative;\n"]))),Mn=b.a.div(rn||(rn=Object(v.a)(["\n  flex: 0.2;\n"]))),Dn=b.a.div(an||(an=Object(v.a)(["\n  display: flex;\n  flex: 0.8;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem auto 0;\n"]))),Wn=b.a.div(on||(on=Object(v.a)(["\n  display: flex;\n  width: 38rem;\n  flex: 1;\n"]))),Yn=b.a.div(cn||(cn=Object(v.a)(["\n  flex: 0.4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 5rem;\n  img {\n    border-radius: 50%;\n    width: 10rem;\n    height: 10rem;\n  }\n"]))),Rn=b.a.div(ln||(ln=Object(v.a)(["\n  display: flex;\n  flex: 0.6;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Un=b.a.div(un||(un=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  span {\n    margin-right: 2rem;\n  }\n"]))),Hn=b.a.button(sn||(sn=Object(v.a)(["\n  width: 7rem;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  background: none;\n"]))),qn=b.a.div(fn||(fn=Object(v.a)(["\n  display: flex;\n  margin: 1rem 0;\n  span {\n    margin-right: 2rem;\n  }\n"]))),Bn=b.a.div(hn||(hn=Object(v.a)(["\n  width: 25rem;\n  h5 {\n    font-size: 1.1rem;\n  }\n  span {\n    font-size: 0.9rem;\n  }\n"]))),Jn=b.a.span(dn||(dn=Object(v.a)(["\n  font-size: 1.6rem;\n  font-weight: 300;\n"]))),Qn=b.a.span(mn||(mn=Object(v.a)(["\n  border-top: 1px solid;\n  margin: -2rem 0 1rem;\n  padding-top: 1rem;\n"]))),Vn=b.a.div(pn||(pn=Object(v.a)(["\n  display: ",";\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n"])),function(e){return e.postsLength>0?"grid":"flex"}),Kn=b.a.div(vn||(vn=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  .postCard-img {\n    width: 15rem;\n    height: 15rem;\n    object-fit: cover;\n  }\n  .hoverPostCard {\n    width: 15rem;\n    height: 15rem;\n    position: absolute;\n    color: white;\n    font-size: 1.4rem;\n    display: none;\n    margin: 0;\n    background-color: rgba(0, 0, 0, 0.3);\n    span {\n      margin: 0 1rem;\n    }\n  }\n\n  :hover {\n    .hoverPostCard {\n      display: flex;\n    }\n  }\n"])));function Xn(){Xn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Zn,$n,er,tr,nr,rr,ar,or,ir,cr,lr,ur,sr,fr=b.a.div(xn||(xn=Object(v.a)(["\n  width: 95vw;\n  position: fixed;\n  z-index: 100;\n"]))),hr=b.a.i(On||(On=Object(v.a)(["\n  position: absolute;\n  top: 2rem;\n  right: 0.5rem;\n  font-size: 2rem;\n  cursor: pointer;\n"]))),dr=b.a.div(jn||(jn=Object(v.a)(["\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 80rem;\n  height: 40rem;\n  margin: auto;\n  transition: 0.5s;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  display: flex;\n  flex: 1;\n"]))),mr=b.a.div(Ln||(Ln=Object(v.a)(["\n  flex: 0.5;\n  img {\n    width: 100%;\n    height: 40rem;\n    object-fit: cover;\n  }\n"]))),pr=b.a.div(_n||(_n=Object(v.a)(["\n  flex: 0.5;\n  flex-direction: column;\n  position: relative;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n  }\n  .avatar-img {\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n  }\n"]))),vr=b.a.div(kn||(kn=Object(v.a)(["\n  padding: 0.8rem;\n  span {\n    cursor: pointer;\n  }\n"]))),gr=b.a.div(Sn||(Sn=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 24rem;\n  padding: 0.8rem;\n  overflow-y: scroll;\n  img {\n    margin-right: 5px;\n  }\n  span {\n    margin: 0 5px;\n    font-size: 0.9rem;\n  }\n"]))),yr=b.a.div(Nn||(Nn=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0.5rem 0;\n"]))),br=b.a.div(Gn||(Gn=Object(v.a)(["\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n"]))),wr=b.a.div(Pn||(Pn=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  span {\n    font-size: 1rem;\n    margin-bottom: 0.2rem;\n  }\n"]))),Er=b.a.div(Cn||(Cn=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 0 0.2rem;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n"]))),xr=b.a.div(Fn||(Fn=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  span {\n    cursor: pointer;\n  }\n"]))),Or=b.a.textarea(Tn||(Tn=Object(v.a)(["\n  border: none;\n  outline: none;\n  resize: none;\n  width: 90%;\n  overflow: hidden;\n"]))),jr=b.a.div(In||(In=Object(v.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 1000;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"}),Lr=function(){fe.a.addDefaultLocale(he);var e=new fe.a("en-US"),t=Object(p.m)(),n=Object(p.o)().postId,r=Object(D.c)(function(e){return e.user}).user,a=Object(s.useState)(null),o=Object(y.a)(a,2),i=o[0],c=o[1],l=Object(s.useState)(""),u=Object(y.a)(l,2),h=u[0],d=u[1],m=Object(s.useState)(null),v=Object(y.a)(m,2),b=v[0],E=v[1],x=Object(s.useState)(0),O=Object(y.a)(x,2),j=O[0],L=O[1],_=Object(s.useState)([]),k=Object(y.a)(_,2),S=k[0],N=k[1],G=Object(s.useState)(!1),P=Object(y.a)(G,2),C=P[0],F=P[1],T=Object(s.useState)(!1),I=Object(y.a)(T,2),A=I[0],z=I[1],W=function(){var e=Object(g.a)(Xn().mark(function e(){return Xn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r||alert("login to interact with a post"),e.next=3,w.a.post("/api/v1/comment",{id:i._id,body:h}).then(function(e){console.log(e.data.comment),d(""),N(function(t){return[].concat(Object(M.a)(t),[e.data.comment])})}).catch(function(e){return console.log(e.message)});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(g.a)(Xn().mark(function e(){return Xn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r||alert("login to interact with a post"),!A){e.next=5;break}return e.abrupt("return");case 5:return z(!0),e.next=8,w.a.post("/api/v1/like",{id:i._id}).then(function(e){E(function(e){return!e}),L(b?function(e){return e-1}:function(e){return e+1}),z(!1)}).catch(function(e){console.log(e.message),z(!1)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(Xn().mark(function e(){return Xn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/api/v1/post/".concat(i._id)).then(function(e){!0===e.data.response&&t(-1)}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(g.a)(Xn().mark(function e(){return Xn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/post/".concat(n)).then(function(e){var t=e.data.post;c(t),L(t.usersLiked.length),N(t.comments)}).catch(function(e){window.alert("post does not exist"),t(-1,{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(g.a)(Xn().mark(function e(t){return Xn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/comment/delete",{postId:n,commentId:t}).then(function(e){return N(e.data.comments)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){U()},[]),Object(s.useEffect)(function(){E(!(!r||!i)&&i.usersLiked.includes(r._id))},[r,i]),f.a.createElement(f.a.Fragment,null,i&&null!==b?f.a.createElement(f.a.Fragment,null,i&&f.a.createElement(fr,null,f.a.createElement(hr,{className:"fa-solid fa-xmark",onClick:function(){t(-1)}}),f.a.createElement(dr,null,f.a.createElement(jr,{moreOption:C,onClick:function(){return F(function(e){return!e})}},f.a.createElement("i",{class:"fa-solid fa-ellipsis"}),r&&i.author._id===r._id&&f.a.createElement("span",{onClick:R},"Delete post")),f.a.createElement(mr,null,f.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},f.a.createElement("div",{class:"carousel-inner"},i.images.map(function(e,t){return f.a.createElement("div",{class:0===t?"carousel-item active":"carousel-item"},f.a.createElement("img",{src:e.url,alt:"slide ".concat(t),className:"".concat(1===i.images.length?"crop":"non-crop")}))})),i.images.length>1&&f.a.createElement(f.a.Fragment,null,f.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},f.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Previous")),f.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},f.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Next"))))),f.a.createElement(pr,null,f.a.createElement(vr,null,f.a.createElement("img",{src:i.author.avatar.url,className:"avatar-img"}),f.a.createElement("span",{onClick:function(){return t("/".concat(i.author.username))}},i.author.username)),f.a.createElement("hr",null),f.a.createElement(gr,null,f.a.createElement(yr,null,f.a.createElement("div",null,f.a.createElement("img",{src:i.author.avatar.url,className:"avatar-img"}),f.a.createElement("span",null,i.author.username),f.a.createElement("span",{style:{fontWeight:"400"}},i.caption))),S&&S.map(function(e){return f.a.createElement(yr,null,f.a.createElement("div",null,f.a.createElement("img",{src:e.author.avatar.url,className:"avatar-img"}),f.a.createElement("span",null,e.author.username),f.a.createElement("span",{style:{fontWeight:"400"}},e.body)),r._id===e.author._id&&f.a.createElement("div",null,f.a.createElement("i",{class:"fa-solid fa-trash",style:{cursor:"pointer"},onClick:function(){H(e._id)}})))})),f.a.createElement(br,null,f.a.createElement("hr",null),f.a.createElement(wr,null,f.a.createElement(Er,null,f.a.createElement("div",null,f.a.createElement("img",{src:"/".concat(b,"Heart.png"),onClick:Y}),f.a.createElement("img",{src:"/Comment.png"}),f.a.createElement("img",{src:"/Send.png"})),f.a.createElement("div",null,f.a.createElement("img",{src:"/Save.png"}))),f.a.createElement("span",null,j," likes"),f.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.7rem",color:"grey"}},e.format(Date.now()-(new Date-i.createdAt)).toUpperCase())),f.a.createElement("hr",null),f.a.createElement(xr,null,f.a.createElement(Or,{rows:1,cols:55,placeholder:"Add a comment...",value:h,onChange:function(e){d(e.target.value)}}),f.a.createElement("span",{className:"text-primary",onClick:W},"Post"))))))):f.a.createElement(se,null))};function _r(){_r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var kr,Sr,Nr,Gr,Pr,Cr,Fr,Tr,Ir,Ar=b.a.div(Zn||(Zn=Object(v.a)(["\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  width: ",";\n  height: 40rem;\n  margin: auto;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  z-index: 1000;\n  display: ",";\n"])),function(e){return 2===e.modalNo?"65rem":"40rem"},function(e){return e.createPostModal?"":"none"}),zr=b.a.div($n||($n=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n"]))),Mr=b.a.div(er||(er=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10rem;\n  span {\n    margin-bottom: 3rem;\n    font-size: 2rem;\n    font-weight: 300;\n  }\n  i {\n    font-size: 4rem;\n  }\n  button {\n    width: 25rem;\n  }\n"]))),Dr=b.a.div(tr||(tr=Object(v.a)(["\n  display: flex;\n  position: relative;\n  img {\n    width: 100%;\n    height: 35rem;\n    object-fit: contain;\n  }\n"]))),Wr=b.a.div(nr||(nr=Object(v.a)(["\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 11px 10px;\n  display: flex;\n  align-items: center;\n  right: 1rem;\n  bottom: 0rem;\n  i {\n    font-size: 1.2rem;\n    color: white;\n  }\n"]))),Yr=b.a.div(rr||(rr=Object(v.a)(["\n  height: 10rem;\n  width: 93%;\n  background-color: rgba(0, 0, 0, 0.3);\n  position: absolute;\n  display: flex;\n  align-items: center;\n  right: 1rem;\n  bottom: 3rem;\n  padding: 0 0.5rem;\n  overflow-x: scroll;\n"]))),Rr=b.a.div(ar||(ar=Object(v.a)(["\n  position: relative;\n  i {\n    position: absolute;\n    right: 0.3rem;\n    top: 0.3rem;\n    font-size: 1.2rem;\n  }\n  img {\n    height: 6rem;\n    margin: 0 0.2rem;\n  }\n"]))),Ur=b.a.label(or||(or=Object(v.a)(["\n  border-radius: 50%;\n  border: none;\n  background-color: rgba(0, 0, 0, 0.4);\n  padding: 1.2rem 1.5rem;\n  display: flex;\n  text-align: center;\n  margin-left: 0.5rem;\n  i {\n    color: white;\n    font-size: 2rem;\n  }\n"]))),Hr=b.a.div(ir||(ir=Object(v.a)(["\n  display: flex;\n  flex: 1;\n"]))),qr=b.a.div(cr||(cr=Object(v.a)(["\n  flex: 0.6;\n  border-right: 1px solid rgba(0, 0, 0, 0.3);\n  img {\n    width: 100%;\n    height: 35rem;\n    object-fit: contain;\n  }\n"]))),Br=b.a.div(lr||(lr=Object(v.a)(["\n  flex: 0.4;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"]))),Jr=b.a.div(ur||(ur=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  img {\n    width: 3rem;\n    height: 3rem;\n    object-fit: contain;\n  }\n  span {\n    font-weight: 500;\n    font-size: 1rem;\n    margin-left: 1rem;\n  }\n"]))),Qr=b.a.textarea(sr||(sr=Object(v.a)(["\n  outline: none;\n  border: none;\n  resize: none;\n"]))),Vr=function(){var e=Object(D.c)(function(e){return e.user}).user,t=Object(D.c)(function(e){return e.modal}).createPostModal,n=Object(D.b)(),r=Object(s.useState)(!1),a=Object(y.a)(r,2),o=a[0],i=a[1],c=Object(s.useState)([]),l=Object(y.a)(c,2),u=l[0],h=l[1],d=Object(s.useState)(0),m=Object(y.a)(d,2),p=m[0],v=m[1],b=Object(s.useState)(!1),E=Object(y.a)(b,2),x=E[0],O=E[1],j=Object(s.useState)(0),L=Object(y.a)(j,2),_=L[0],k=L[1],S=Object(s.useState)(""),N=Object(y.a)(S,2),G=N[0],P=N[1],C=function(){var e=Object(g.a)(_r().mark(function e(){return _r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,w.a.post("/api/v1/create",{caption:G,images:u},{headers:{"Content-Type":"application/json"}}).then(function(e){P(""),h([]),i(!1),n({type:"TOGGLE_CREATE_POST_MODAL"}),window.location.reload()});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return f.a.createElement(Ar,{createPostModal:t,modalNo:p},(0===u.length||0===p)&&f.a.createElement(f.a.Fragment,null,f.a.createElement(zr,{style:{justifyContent:"center"}},f.a.createElement("span",{style:{fontWeight:"500"}},"Create new post")),f.a.createElement("hr",{style:{margin:"0"}}),f.a.createElement(Mr,null,f.a.createElement("i",{class:"fa-regular fa-image"}),f.a.createElement("span",null,"Select photos here"),f.a.createElement("button",{className:"btn btn-primary"},f.a.createElement("label",{htmlFor:"images"},"Select from computer")),f.a.createElement("input",{type:"file",name:"images",id:"images",accept:"image/*",multiple:!0,style:{display:"none"},onChange:function(e){Array.from(e.target.files).forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&h(function(e){return[].concat(Object(M.a)(e),[t.result])})},t.readAsDataURL(e)}),v(1)}}))),u.length>0&&1===p&&f.a.createElement(f.a.Fragment,null,f.a.createElement(zr,null,f.a.createElement("i",{class:"fa-solid fa-arrow-left",style:{cursor:"pointer"},onClick:function(){v(0)}}),f.a.createElement("span",{style:{fontWeight:"500"}},"Images preview"),f.a.createElement("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){v(2)}},"next")),f.a.createElement("hr",{style:{margin:"0"}}),f.a.createElement(Dr,null,f.a.createElement("img",{src:u[_],alt:"images-preview"}),f.a.createElement(Wr,{onClick:function(){O(function(e){return!e})}},f.a.createElement("i",{class:"fa-regular fa-images"})),x&&f.a.createElement(Yr,null,u&&u.map(function(e,t){return f.a.createElement(Rr,null,f.a.createElement("i",{class:"fa-regular fa-circle-xmark",onClick:function(){var t;t=e,h(function(e){return e.filter(function(e){return e!==t})})}}),f.a.createElement("img",{src:e,alt:"images-preview-edit",onClick:function(){k(t)}}))}),f.a.createElement(Ur,{htmlFor:"addImage"},f.a.createElement("i",{class:"fa-solid fa-plus"})),f.a.createElement("input",{type:"file",name:"addImage",id:"addImage",accept:"image/*",multiple:!0,style:{display:"none"},onChange:function(e){Array.from(e.target.files).forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&h(function(e){return[].concat(Object(M.a)(e),[t.result])})},t.readAsDataURL(e)})}})))),2===p&&e&&f.a.createElement(f.a.Fragment,null,f.a.createElement(zr,null,f.a.createElement("i",{class:"fa-solid fa-arrow-left",style:{cursor:"pointer"},onClick:function(){v(1)}}),f.a.createElement("span",{style:{fontWeight:"500"}},"Create new post"),f.a.createElement("button",{className:"btn btn-primary",style:{cursor:"pointer"},onClick:C,disabled:!!o},"Share")),f.a.createElement("hr",null),f.a.createElement(Hr,null,f.a.createElement(qr,null,f.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},f.a.createElement("div",{class:"carousel-inner"},f.a.createElement("div",{class:"carousel-item active"},f.a.createElement("img",{src:u[0],alt:"imagePreview-0"})),u.length>1&&u.map(function(e,t){if(t>0)return f.a.createElement("div",{class:"carousel-item"},f.a.createElement("img",{src:e,alt:"imagePreview-".concat(t)}))})),f.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},f.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Previous")),f.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},f.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Next")))),f.a.createElement(Br,null,f.a.createElement(Jr,null,f.a.createElement("img",{src:e.avatar.url}),f.a.createElement("span",null,e.name)),f.a.createElement(Qr,{placeholder:"Write a caption...",rows:10,value:G,onChange:function(e){P(e.target.value)}})))))};function Kr(){Kr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Xr,Zr,$r,ea,ta,na=function(){var e=Object(p.m)(),t=Object(s.useState)(null),n=Object(y.a)(t,2),r=n[0],a=n[1],o=Object(D.c)(function(e){return e.user}).user,i=function(){var e=Object(g.a)(Kr().mark(function e(){return Kr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/chats").then(function(e){return a(e.data.chats)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){i()},[]),f.a.createElement(f.a.Fragment,null,r&&f.a.createElement(ra,null,f.a.createElement(aa,null,f.a.createElement(Y,null)),f.a.createElement(oa,null,f.a.createElement(ca,null,f.a.createElement(la,null,f.a.createElement("span",null,o.username)),f.a.createElement("hr",null),f.a.createElement(ua,null,r.map(function(t){if(t.messagesCount>0)return f.a.createElement("div",{style:{cursor:"pointer",margin:"1rem 0"},onClick:function(){return e("/direct/".concat(t._id))}},t.users.map(function(e){if(e._id!==o._id)return f.a.createElement("div",null,f.a.createElement("img",{src:e.avatar.url}),f.a.createElement("span",null,e.name))}))}))),f.a.createElement(ia,null),f.a.createElement(sa,null,f.a.createElement(fa,null,f.a.createElement("img",{src:"/send.png"}),f.a.createElement("span",{style:{fontSize:"1.4rem"}},"Your Messages"),f.a.createElement("span",null,"Send private photos and messages to a friend or group."))))))},ra=b.a.div(kr||(kr=Object(v.a)(["\n  display: flex;\n"]))),aa=b.a.div(Sr||(Sr=Object(v.a)(["\n  flex: 0.25;\n"]))),oa=b.a.div(Nr||(Nr=Object(v.a)(["\n  flex: 0.65;\n  display: flex;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 50rem;\n  height: 90vh;\n  margin-top: 3vh;\n"]))),ia=b.a.div(Gr||(Gr=Object(v.a)(["\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  height: 100%;\n"]))),ca=b.a.div(Pr||(Pr=Object(v.a)(["\n  flex: 0.35;\n"]))),la=b.a.div(Cr||(Cr=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  font-weight: 500;\n  padding: 1rem 0;\n"]))),ua=b.a.div(Fr||(Fr=Object(v.a)(["\n  padding: 1rem;\n  div {\n    display: flex;\n    align-items: center;\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n      border-radius: 50%;\n      margin-right: 0.5rem;\n    }\n  }\n"]))),sa=b.a.div(Tr||(Tr=Object(v.a)(["\n  flex: 0.65;\n  display: flex;\n"]))),fa=b.a.div(Ir||(Ir=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: auto;\n  text-align: center;\n  img {\n    width: 4rem;\n    height: 4rem;\n    margin-bottom: 1rem;\n  }\n"])));var ha,da,ma,pa,va=function(){var e=Object(D.b)(),t=Object(p.m)(),n=Object(D.c)(function(e){return e.user}),r=n.user,a=n.userLoading,o=Object(D.c)(function(e){return e.modal}).notificationModal;return Object(s.useEffect)(function(){r&&r.notifications.sort(function(e,t){return t.timeStamp-e.timeStamp})},[r]),f.a.createElement(f.a.Fragment,null,a?f.a.createElement(se,null):f.a.createElement(f.a.Fragment,null,r&&f.a.createElement(ga,{notificationModal:o},f.a.createElement(ya,null,f.a.createElement(ba,{onClick:function(){e({type:"TOGGLE_NOTIFICATION_MODAL"})}},f.a.createElement("i",{class:"fa-solid fa-xmark"})),f.a.createElement("h4",null,"Notifications")),f.a.createElement("hr",{style:{margin:"1rem 0"}}),f.a.createElement(wa,null,f.a.createElement(f.a.Fragment,null,r.notifications.length>=1?f.a.createElement(f.a.Fragment,null,r.notifications.map(function(e){return f.a.createElement("span",{onClick:function(){return t(e.reference)}},e.content)})):f.a.createElement(Ea,null,f.a.createElement("i",{class:"fa-regular fa-heart"}),f.a.createElement("span",null,"Activity on your post"),f.a.createElement("span",null,"When someone likes or comment on one of your posts, you'll see it here.")))))))},ga=b.a.div(Xr||(Xr=Object(v.a)(["\n  height: 100vh;\n  width: 30rem;\n  position: fixed;\n  left: ",";\n  top: 0;\n  background-color: white;\n  z-index: 10;\n  transition: 0.5s;\n  padding: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n"])),function(e){return e.notificationModal?"0":"-30rem"}),ya=b.a.div(Zr||(Zr=Object(v.a)(["\n  display: flex;\n  h4 {\n    margin: auto;\n  }\n"]))),ba=b.a.div($r||($r=Object(v.a)(["\n  position: absolute;\n  right: 1rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n"]))),wa=b.a.div(ea||(ea=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  span {\n    font-size: 1.1rem;\n    cursor: pointer;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.5rem;\n    padding: 5px 20px;\n    margin: 0.5rem;\n  }\n"]))),Ea=b.a.div(ta||(ta=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  padding: 1rem 0;\n  i {\n    font-size: 4rem;\n  }\n  span {\n    border: none;\n  }\n"])));function xa(){xa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Oa,ja,La,_a,ka,Sa=function(){var e=Object(D.b)(),t=Object(p.m)(),n=Object(D.c)(function(e){return e.modal}).searchModal,r=Object(s.useState)(""),a=Object(y.a)(r,2),o=a[0],i=a[1],c=Object(s.useState)([]),l=Object(y.a)(c,2),u=l[0],h=l[1],d=function(){var e=Object(g.a)(xa().mark(function e(){return xa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/search",{username:o}).then(function(e){h(e.data.users)}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){d()},[o]),f.a.createElement(Na,{searchModal:n},f.a.createElement(Ga,null,f.a.createElement(Pa,{onClick:function(){e({type:"TOGGLE_SEARCH_MODAL"})}},f.a.createElement("i",{class:"fa-solid fa-xmark"})),f.a.createElement("h4",null,"Search"),f.a.createElement("input",{type:"text",name:"username",value:o,placeholder:"search",className:"form-control",autoComplete:"off",onChange:function(e){i(e.target.value)}})),f.a.createElement("hr",null),f.a.createElement(Ca,null,u.map(function(n){return f.a.createElement("div",{onClick:function(){e({type:"TOGGLE_SEARCH_MODAL"}),t("/".concat(n.username))}},f.a.createElement("img",{src:n.avatar.url}),f.a.createElement("span",null,n.username))})))},Na=b.a.div(ha||(ha=Object(v.a)(["\n  height: 100vh;\n  width: 30rem;\n  position: fixed;\n  left: ",";\n  top: 0;\n  background-color: white;\n  z-index: 10;\n  transition: 0.5s;\n  padding: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n"])),function(e){return e.searchModal?"0":"-30rem"}),Ga=b.a.div(da||(da=Object(v.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 15vh;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n"]))),Pa=b.a.div(ma||(ma=Object(v.a)(["\n  position: absolute;\n  right: 1rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n"]))),Ca=b.a.div(pa||(pa=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  div {\n    display: flex;\n    margin: 0.5rem 0;\n    align-items: center;\n    cursor: pointer;\n  }\n\n  img {\n    border-radius: 50%;\n    width: 2rem;\n    height: 2rem;\n    margin-right: 1rem;\n  }\n"])));function Fa(){Fa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Ta,Ia,Aa,za,Ma=function(){var e=Object(p.o)().postId,t=Object(D.c)(function(e){return e.user}).user,n=Object(s.useState)(null),r=Object(y.a)(n,2),a=r[0],o=r[1],i=Object(s.useState)([]),c=Object(y.a)(i,2),l=c[0],u=c[1],h=Object(s.useState)(null),d=Object(y.a)(h,2),m=d[0],v=d[1],b=Object(s.useState)(""),E=Object(y.a)(b,2),x=E[0],O=E[1],j=Object(s.useState)(!1),L=Object(y.a)(j,2),_=L[0],k=L[1],S=function(){var t=Object(g.a)(Fa().mark(function t(){return Fa().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("/api/v1/post/".concat(e)).then(function(e){o(e.data.post),u(e.data.post.comments),v(!1)}).catch(function(e){return console.log(e.message)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),N=function(){var e=Object(g.a)(Fa().mark(function e(){return Fa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=4;break}return e.abrupt("return");case 4:return k(!0),e.next=7,w.a.post("/api/v1/comment",{id:a._id,body:x}).then(function(e){u(function(t){return[].concat(Object(M.a)(t),[e.data.comment])}),O(""),k(!1)}).catch(function(e){return console.log(e.message)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),G=function(){var t=Object(g.a)(Fa().mark(function t(n){return Fa().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("/api/v1/comment/delete",{postId:e,commentId:n}).then(function(e){return u(e.data.comments)}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)(function(){a&&e===a._id||(v(!0),S())},[a]),f.a.createElement(f.a.Fragment,null,m||!t?f.a.createElement(se,null):f.a.createElement(Da,null,f.a.createElement("div",{style:{display:"flex",flexDirection:"column",position:"sticky",top:"0",backgroundColor:"white"}},f.a.createElement(Wa,null,f.a.createElement("span",null,"Comments")),f.a.createElement("hr",null),f.a.createElement(Ra,null,f.a.createElement("img",{src:t.avatar.url}),f.a.createElement(Ua,null,f.a.createElement("textarea",{name:"comment",value:x,placeholder:"add a comment...",rows:1,onChange:function(e){O(e.target.value)}}),f.a.createElement("span",{style:{marginLeft:"0.5rem"},className:"text-primary",onClick:N},"Post")))),f.a.createElement(Ya,null,l&&l.map(function(e){return f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("img",{src:e.author.avatar.url}),f.a.createElement("span",{style:{alignSelf:"center"}},f.a.createElement("span",{style:{fontWeight:"600",marginRight:"0.5rem"}},e.author.username),e.body)),f.a.createElement("div",null,t._id===e.author._id&&f.a.createElement("div",null,f.a.createElement("i",{class:"fa-solid fa-trash",style:{cursor:"pointer"},onClick:function(){G(e._id)}}))))}))))},Da=b.a.div(Oa||(Oa=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  img {\n    width: 2rem;\n    height: 2rem;\n    margin-right: 0.7rem;\n    border-radius: 50%;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n  }\n"]))),Wa=b.a.div(ja||(ja=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  span {\n    font-weight: 600;\n    font-size: 1.2rem;\n  }\n"]))),Ya=b.a.div(La||(La=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.7rem;\n  div {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n\n    margin: 0.5rem 0;\n    font-size: 0.9rem;\n  }\n"]))),Ra=b.a.div(_a||(_a=Object(v.a)(["\n  display: flex;\n  padding: 0.7rem;\n  align-items: center;\n  background-color: whitesmoke;\n  font-size: 0.9rem;\n  textarea {\n    resize: none;\n    border: none;\n    outline: none;\n  }\n"]))),Ua=b.a.div(ka||(ka=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  background-color: white;\n  padding: 0.5rem 0.8rem;\n  border-radius: 2rem;\n  width: 100%;\n  justify-content: space-between;\n"])));var Ha,qa,Ba,Ja=function(){var e=Object(D.c)(function(e){return e.user}),t=e.user,n=e.userLoading,r=Object(p.m)(),a=Object(s.useState)(!1),o=Object(y.a)(a,2),i=o[0],c=o[1];return Object(s.useEffect)(function(){t&&t.notifications.sort(function(e,t){return t.timeStamp-e.timeStamp})&&c(!0)},[t]),f.a.createElement(f.a.Fragment,null,n||!i?f.a.createElement(se,null):f.a.createElement(Qa,null,f.a.createElement(Va,null,f.a.createElement("span",null,"Notifications")),f.a.createElement("hr",null),f.a.createElement(Ka,null,t.notifications.length>=1?f.a.createElement(f.a.Fragment,null,t.notifications.map(function(e){return f.a.createElement("span",{onClick:function(){return r(e.reference)}},e.content)})):f.a.createElement(Xa,null,f.a.createElement("i",{class:"fa-regular fa-heart"}),f.a.createElement("span",null,"Activity on your post"),f.a.createElement("span",null,"When someone likes or comment on one of your posts, you'll see it here.")))))},Qa=b.a.div(Ta||(Ta=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Va=b.a.div(Ia||(Ia=Object(v.a)(["\n  display: flex;\n  font-weight: 500;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem 0;\n"]))),Ka=b.a.div(Aa||(Aa=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  font-size: 0.9rem;\n  span {\n    margin: 0.5rem 0;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    padding: 0.5rem 1rem;\n    border-radius: 0.5rem;\n  }\n"]))),Xa=b.a.div(za||(za=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  padding: 1rem 0;\n  i {\n    font-size: 4rem;\n  }\n"])));function Za(){Za=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var $a,eo,to,no,ro,ao,oo,io,co,lo,uo,so=function(){var e=Object(p.m)(),t=Object(D.c)(function(e){return e.modal}).searchModal,n=Object(s.useState)(""),r=Object(y.a)(n,2),a=r[0],o=r[1],i=Object(s.useState)([]),c=Object(y.a)(i,2),l=c[0],u=c[1],h=function(){var e=Object(g.a)(Za().mark(function e(){return Za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/search",{username:a}).then(function(e){u(e.data.users)}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){h()},[a]),f.a.createElement(fo,{searchModal:t},f.a.createElement(ho,null,f.a.createElement("input",{type:"text",name:"username",value:a,placeholder:"search",className:"form-control",autoComplete:"off",onChange:function(e){o(e.target.value)}})),f.a.createElement("hr",{style:{margin:"1rem 0"}}),f.a.createElement(mo,null,l.map(function(t){return f.a.createElement("div",{onClick:function(){e("/".concat(t.username))}},f.a.createElement("img",{src:t.avatar.url}),f.a.createElement("span",null,t.username))})),f.a.createElement(ot,null))},fo=b.a.div(Ha||(Ha=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 0 0;\n  height: 100vh;\n"]))),ho=b.a.div(qa||(qa=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  margin: auto;\n  input {\n    width: 90vw;\n  }\n"]))),mo=b.a.div(Ba||(Ba=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 1rem;\n  height: 80vh;\n  div {\n    display: flex;\n    margin: 0.5rem 0;\n    align-items: center;\n    cursor: pointer;\n  }\n  img {\n    border-radius: 50%;\n    width: 2rem;\n    height: 2rem;\n    margin-right: 1rem;\n  }\n"])));function po(){po=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var vo,go,yo,bo,wo,Eo,xo=function(){var e=Object(D.c)(function(e){return e.user}).user,t=Object(p.o)().username,n=Object(p.m)(),r=Object(s.useState)(null),a=Object(y.a)(r,2),o=a[0],i=a[1],c=Object(s.useState)(null),l=Object(y.a)(c,2),u=l[0],h=l[1],d=Object(s.useState)(null),m=Object(y.a)(d,2),v=m[0],b=m[1],E=Object(s.useState)(!0),x=Object(y.a)(E,2),O=x[0],j=x[1],L=Object(s.useState)(null),_=Object(y.a)(L,2),k=_[0],S=_[1],N=Object(s.useState)([]),G=Object(y.a)(N,2),P=G[0],C=G[1],F=Object(s.useState)(!0),T=Object(y.a)(F,2),I=T[0],A=T[1],z=function(){var r=Object(g.a)(po().mark(function r(){return po().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return j(!0),r.next=3,w.a.get("/api/v1/user/".concat(t)).then(function(t){h(t.data.user.followers.length),b(t.data.user.following.length),i(t.data.user),S(e&&e.following.includes(t.data.user._id)),j(!1)}).catch(function(e){window.alert("user does not exist"),n(-1,{replace:!0})});case 3:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),M=function(){var e=Object(g.a)(po().mark(function e(){return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/post/user/".concat(t)).then(function(e){C(e.data.posts)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(g.a)(po().mark(function e(){return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/follower/add",{searchedUser:o}).then(function(e){S(!0),h(function(e){return e+1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(g.a)(po().mark(function e(){return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/follower/remove",{searchedUser:o}).then(function(e){S(!1),h(function(e){return e-1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(po().mark(function e(){return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/v1/chat",{secondUser:o._id}).then(function(e){n("/direct/".concat(e.data.chat._id),{replce:!0})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(g.a)(po().mark(function e(){return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/logout").then(function(e){n("/",{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){z(),M()},[t]),f.a.createElement(f.a.Fragment,null,O||!P?f.a.createElement(se,null):f.a.createElement(Oo,null,f.a.createElement(jo,null,f.a.createElement("h6",null,o.username),e&&f.a.createElement("i",{class:"fa-solid fa-gear",onClick:function(){return A(function(e){return!e})}}),f.a.createElement("span",{className:I&&"hidden",onClick:U},"Logout")),f.a.createElement("hr",null),f.a.createElement(Lo,null,f.a.createElement(_o,null,f.a.createElement(ko,null,f.a.createElement("div",{className:"img-div"},f.a.createElement("img",{src:o.avatar.url})),f.a.createElement("div",null,f.a.createElement("span",null,o.username),e&&f.a.createElement(f.a.Fragment,null,e.username===o.username?f.a.createElement(So,{onClick:function(){return n("/accounts/edit")}},"Edit profile"):f.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},f.a.createElement("button",{className:k?"btn btn-outline-dark":"btn btn-primary",onClick:k?Y:W},k?"Following":"Follow"),f.a.createElement("button",{className:"btn btn-outline-dark",style:{marginLeft:"0.5rem"},onClick:R},"Message"))))),f.a.createElement(No,null,f.a.createElement("span",{style:{fontWeight:"500"}},o.name),f.a.createElement("span",null,o.bio)),f.a.createElement("hr",{style:{margin:"1rem -1rem"}}),f.a.createElement(Go,null,f.a.createElement("div",null,f.a.createElement("b",null,o.posts.length),"posts"),f.a.createElement("div",null,f.a.createElement("b",null,u),"followers"),f.a.createElement("div",null,f.a.createElement("b",null,v),"following")),f.a.createElement("hr",{style:{margin:"1rem -1rem 0rem"}})),f.a.createElement("div",null,f.a.createElement("i",{class:"fa-solid fa-table-cells text-primary",style:{fontSize:"1.5rem",margin:"0 1rem 1rem"}})),f.a.createElement("hr",null),f.a.createElement(Po,{postsLength:P.length},P.length>0?f.a.createElement(f.a.Fragment,null,P.map(function(e){return f.a.createElement(Co,{onClick:function(){return n("/p/".concat(e._id))}},f.a.createElement("img",{src:e.images[0].url}))})):f.a.createElement("div",{style:{margin:"2rem auto",fontSize:"1.5rem"}}," No posts "))),f.a.createElement(Fo,null,f.a.createElement(ot,null))))},Oo=b.a.div($a||($a=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n"]))),jo=b.a.div(eo||(eo=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 0.5rem;\n  position: relative;\n  i {\n    position: absolute;\n    left: 1rem;\n    top: 0.75rem;\n    font-size: 1.2rem;\n  }\n  span {\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem 1rem;\n    position: absolute;\n    top: 2.5rem;\n    left: 1rem;\n    background-color: white;\n    z-index: 100;\n  }\n"]))),Lo=b.a.div(to||(to=Object(v.a)([""]))),_o=b.a.div(no||(no=Object(v.a)(["\n  padding: 1rem;\n"]))),ko=b.a.div(ro||(ro=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n  div {\n    display: flex;\n    flex-direction: column;\n    flex: 0.65;\n  }\n  span {\n    font-size: 1.7rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    margin-bottom: 5px;\n  }\n  img {\n    width: 5rem;\n    height: 5rem;\n    border-radius: 150%;\n  }\n  .img-div {\n    flex: 0.35;\n  }\n  width: 100%;\n"]))),So=b.a.button(ao||(ao=Object(v.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  background-color: white;\n  width: 100%;\n"]))),No=b.a.div(oo||(oo=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 0.9rem;\n  margin-top: 1.5rem;\n"]))),Go=b.a.div(io||(io=Object(v.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  font-size: 0.9rem;\n  margin: 0 -1rem;\n  div {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),Po=b.a.div(co||(co=Object(v.a)(["\n  display: ",";\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.2rem;\n"])),function(e){return e.postsLength>0?"grid":"flex"}),Co=b.a.div(lo||(lo=Object(v.a)(["\n  display: inline;\n  width: 100%;\n  height: 100%;\n  img {\n    width: 100%;\n    height: 7rem;\n    object-fit: cover;\n  }\n"]))),Fo=b.a.div(uo||(uo=Object(v.a)(["\n  position: sticky;\n  margin-top: auto;\n  bottom: 0;\n"])));function To(){To=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Io,Ao,zo,Mo,Do,Wo,Yo,Ro,Uo,Ho=function(){var e=Object(p.m)(),t=Object(D.c)(function(e){return e.user}).user,n=Object(s.useState)(null),r=Object(y.a)(n,2),a=r[0],o=r[1],i=Object(s.useState)(null),c=Object(y.a)(i,2),l=c[0],u=c[1],h=Object(s.useState)(null),d=Object(y.a)(h,2),m=d[0],v=d[1],b=Object(s.useState)(""),E=Object(y.a)(b,2),x=E[0],O=E[1],j=Object(s.useState)(""),L=Object(y.a)(j,2),_=L[0],k=L[1],S=Object(s.useState)(""),N=Object(y.a)(S,2),G=N[0],P=N[1],C=Object(s.useState)(0),F=Object(y.a)(C,2),T=F[0],I=F[1],A=Object(s.useState)(""),z=Object(y.a)(A,2),M=z[0],W=z[1],R=Object(s.useState)(null),U=Object(y.a)(R,2),H=U[0],q=U[1],B=Object(s.useState)(!1),J=Object(y.a)(B,2),Q=J[0],V=J[1],K=function(){var t=Object(g.a)(To().mark(function t(){var n;return To().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(V(!0),_===G){t.next=3;break}return t.abrupt("return",q("password does not match"));case 3:return n={Headers:{"Content-Type":"application/json"}},t.next=6,w.a.post("/api/v1/profile/update",{name:a,username:l,bio:m,oldPassword:x,newPassword:_,avatar:M},n).then(function(t){V(!1),e("/".concat(t.data.user.username),{replace:!0})}).catch(function(e){V(!1),q(e.response.data.message)});case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)(function(){t&&(o(t.name),u(t.username),v(t.bio),W(t.avatar.url))},[t]),f.a.createElement(f.a.Fragment,null,t&&f.a.createElement(qo,null,window.innerWidth>769&&f.a.createElement(Bo,null," ",f.a.createElement(Y,null)),f.a.createElement(Jo,null,window.innerWidth<769&&f.a.createElement(f.a.Fragment,null,f.a.createElement(Ko,null,"Edit Profile"),f.a.createElement("hr",{style:{margin:"0.5rem 0"}})),f.a.createElement(Qo,null,f.a.createElement("div",{className:"img-div"},f.a.createElement("img",{src:M})),f.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},f.a.createElement("span",{style:{fontSize:"1.3rem"}},t.username),f.a.createElement("input",{type:"file",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&W(t.result)},t.readAsDataURL(e.target.files[0])},style:{display:"none"},id:"avatar",accept:"image/*"}),f.a.createElement("div",{className:"input-label-div"},f.a.createElement("label",{htmlFor:"avatar"},f.a.createElement("span",{className:"text-primary",style:{fontSize:"0.9rem",cursor:"pointer"}},"Change profile photo")),f.a.createElement("span",{className:"text-danger",style:{fontSize:"0.9rem",cursor:"pointer"},onClick:function(){W("https://res.cloudinary.com/duvgguhqc/image/upload/v1669574324/Avatars/default-pfp_mltcik.png")}},"Remove profile photo")))),f.a.createElement(Vo,null,f.a.createElement("h6",null,"Name"),f.a.createElement("div",null,f.a.createElement("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)}}),f.a.createElement("span",null,"Help people discover your account by using the name that you're known by: either your full name, nickname or business name"),f.a.createElement("span",null,"You can only change your name twice within 14 days."))),f.a.createElement(Vo,null,f.a.createElement("h6",null,"Username"),f.a.createElement("div",null,f.a.createElement("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)}}),f.a.createElement("span",null,"In most cases, you'll be able to change your username back to newtonss3rdlaw for another 11 days."))),f.a.createElement(Vo,null,f.a.createElement("h6",null,"Bio"),f.a.createElement("div",null,f.a.createElement("textarea",{value:m,onChange:function(e){v(e.target.value),I(e.target.value.length)},maxLength:"150",style:{fontSize:"0.9rem"}}),f.a.createElement("span",null,T,"/150"),f.a.createElement("span",{style:{fontSize:"0.8rem",fontWeight:"500"}},"Personal information"),f.a.createElement("span",null,"Provide your personal information, even if the account is used for a business, pet or something else. This won't be part of your public profile."))),f.a.createElement(Vo,null,f.a.createElement("h6",null,"Old password"),f.a.createElement("div",null,f.a.createElement("input",{type:"text",value:x,onChange:function(e){return O(e.target.value)}}))),f.a.createElement(Vo,null,f.a.createElement("h6",null,"New password"),f.a.createElement("div",null,f.a.createElement("input",{type:"text",value:_,onChange:function(e){return k(e.target.value)}}))),f.a.createElement(Vo,null,f.a.createElement("h6",null,"Confirm new password"),f.a.createElement("div",null,f.a.createElement("input",{type:"text",value:G,onChange:function(e){return P(e.target.value)}}))),H&&f.a.createElement("div",{class:"alert alert-danger",role:"alert",style:{width:"100%"}},H),f.a.createElement("button",{className:"btn btn-primary",onClick:K,disabled:!!Q},"Submit"))))},qo=b.a.div(vo||(vo=Object(v.a)(["\n  display: flex;\n  position: relative;\n  background-color: whitesmoke;\n  flex: 1;\n"]))),Bo=b.a.div(go||(go=Object(v.a)(["\n  flex: 0.3;\n"]))),Jo=b.a.div(yo||(yo=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.5rem;\n  padding: 5rem;\n  margin: 2rem auto;\n  background-color: white;\n  flex: 0.5;\n  button {\n    align-self: center;\n    margin-top: 2rem;\n    width: 6rem;\n  }\n\n  @media (max-width: 769px) {\n    width: 100%;\n    border: none;\n    padding: 1rem;\n    margin: 0;\n    flex: 1;\n  }\n"]))),Qo=b.a.div(bo||(bo=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n  .img-div {\n    display: flex;\n    flex: 0.2;\n    margin-right: 1.5rem;\n    justify-content: flex-end;\n  }\n  img {\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%;\n    @media (max-width: 769px) {\n      width: 3.5rem;\n      height: 3.5rem;\n    }\n  }\n  div {\n    display: flex;\n    flex: 0.7;\n  }\n  .input-label-div {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    label {\n      margin-bottom: 0.3rem;\n    }\n  }\n"]))),Vo=b.a.div(wo||(wo=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  margin: 1rem 0;\n  h6 {\n    font-weight: 500;\n    flex: 0.2;\n    text-align: right;\n    margin: 0.5rem 1.5rem 0 0;\n  }\n  div {\n    display: flex;\n    flex: 0.7;\n    flex-direction: column;\n    width: 23rem;\n    span {\n      font-size: 0.7rem;\n      margin-top: 0.5rem;\n    }\n    input {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      padding: 0.5rem;\n    }\n  }\n  @media (max-width: 769px) {\n    flex-direction: column;\n    h6 {\n      text-align: left;\n      margin-bottom: 5px;\n    }\n    div {\n      width: 100%;\n    }\n  }\n"]))),Ko=b.a.div(Eo||(Eo=Object(v.a)(["\n  font-weight: 500;\n  display: flex;\n  padding: 0.5rem;\n  justify-content: center;\n"])));function Xo(){Xo=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Zo,$o=function(){fe.a.addDefaultLocale(he);var e=new fe.a("en-US"),t=Object(p.m)(),n=Object(D.c)(function(e){return e.user}).user,r=Object(p.o)().postId,a=Object(s.useState)(null),o=Object(y.a)(a,2),i=o[0],c=o[1],l=Object(s.useState)(null),u=Object(y.a)(l,2),h=u[0],d=u[1],m=Object(s.useState)(null),v=Object(y.a)(m,2),b=v[0],E=v[1],x=Object(s.useState)(0),O=Object(y.a)(x,2),j=O[0],L=O[1],_=Object(s.useState)(!1),k=Object(y.a)(_,2),S=k[0],N=k[1],G=Object(s.useState)(!1),P=Object(y.a)(G,2),C=P[0],F=P[1],T=function(){var e=Object(g.a)(Xo().mark(function e(){return Xo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n||alert("login to interact with a post"),!C){e.next=5;break}return e.abrupt("return");case 5:return F(!0),e.next=8,w.a.post("/api/v1/like",{id:i._id}).then(function(e){E(function(e){return!e}),L(b?function(e){return e-1}:function(e){return e+1}),F(!1)}).catch(function(e){console.log(e.message),F(!1)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(Xo().mark(function e(){return Xo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/api/v1/post/".concat(i._id)).then(function(e){!0===e.data.response&&window.location.reload()}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(Xo().mark(function e(){return Xo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/post/".concat(r)).then(function(e){var t=e.data.post;c(t),L(t.usersLiked.length),d(t.comments.length)}).catch(function(e){window.alert("post does not exist"),t(-1,{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){A()},[]),Object(s.useEffect)(function(){E(!(!n||!i)&&i.usersLiked.includes(n._id))},[n,i]),f.a.createElement(f.a.Fragment,null," ",i&&null!==b?f.a.createElement(f.a.Fragment,null,f.a.createElement(ei,null,f.a.createElement(ci,{moreOption:S,onClick:function(){return N(function(e){return!e})}},f.a.createElement("i",{class:"fa-solid fa-ellipsis"}),n&&i.author._id===n._id&&f.a.createElement("span",{onClick:I},"Delete post")),f.a.createElement(ti,null,f.a.createElement("img",{src:i.author.avatar.url}),f.a.createElement("span",{onClick:function(){return t("/".concat(i.author.username))}},i.author.username)),f.a.createElement("hr",null),f.a.createElement(ni,{imagesLength:i.images.length},f.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},f.a.createElement("div",{class:"carousel-inner"},i.images.map(function(e,t){return f.a.createElement("div",{class:"carousel-item ".concat(0===t?"active":"")},f.a.createElement("img",{src:e.url,alt:"slide ".concat(t)}))})),i.images.length>1&&f.a.createElement(f.a.Fragment,null,f.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},f.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Previous")),f.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},f.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),f.a.createElement("span",{class:"visually-hidden"},"Next"))))),f.a.createElement("hr",null),f.a.createElement(ri,null,f.a.createElement(ai,null,f.a.createElement("div",null,f.a.createElement("img",{src:"/".concat(b,"Heart.png"),onClick:T}),f.a.createElement("img",{src:"/Comment.png",onClick:function(){return t("/p/".concat(i._id,"/comments"))}}),f.a.createElement("img",{src:"/Send.png"})),f.a.createElement("div",null,f.a.createElement("img",{src:"/Save.png"}))),f.a.createElement("span",null,j," likes"),f.a.createElement(oi,null,f.a.createElement("span",null,i.author.username),f.a.createElement("span",{style:{fontWeight:"400"}},i.caption)),f.a.createElement(ii,{onClick:function(){return t("/p/".concat(i._id,"/comments"))}},h>0?"View all ".concat(h," comments"):"0 comments"),f.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.6rem",color:"grey"}},e.format(Date.now()-(new Date-i.createdAt)).toUpperCase()))),f.a.createElement(li,null,f.a.createElement(ot,null))):f.a.createElement(se,null))},ei=b.a.div(Io||(Io=Object(v.a)(["\n  width: 30rem;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  margin: 1rem auto;\n  position: relative;\n  align-items: center;\n  @media (max-width: 426px) {\n    width: 100%;\n    border: none;\n    border-top: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0;\n  }\n"]))),ti=b.a.div(Ao||(Ao=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n    cursor: pointer;\n  }\n"]))),ni=b.a.div(zo||(zo=Object(v.a)(["\n  img {\n    width: ",";\n    height: ",";\n    object-fit: ",";\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 100%;\n      height: ",";\n      object-fit: ",";\n    }\n  }\n"])),function(e){return 1===e.imagesLength?"100%":"30rem"},function(e){return 1===e.imagesLength?"100%":"30rem"},function(e){return 1===e.imagesLength?"full":"cover"},function(e){return 1===e.imagesLength?"100%":"23rem"},function(e){return 1===e.imagesLength?"full":"cover"}),ri=b.a.div(Mo||(Mo=Object(v.a)(["\n  padding: 0 0.5rem;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n  span {\n    margin: 0.2rem 0.5rem;\n    font-weight: 500;\n  }\n  @media (max-width: 426px) {\n    font-size: 0.9rem;\n  }\n"]))),ai=b.a.div(Do||(Do=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 1.2rem;\n      height: 1.2rem;\n    }\n  }\n"]))),oi=b.a.div(Wo||(Wo=Object(v.a)(["\n  display: flex;\n  margin: 0 5px 5px;\n  span {\n    margin: 0 3px;\n    font-size: 0.9rem;\n  }\n  @media (max-width: 426px) {\n    span {\n      font-size: 0.85rem;\n    }\n  }\n"]))),ii=b.a.span(Yo||(Yo=Object(v.a)(["\n  font-weight: 400 !important;\n  color: grey;\n  font-size: 0.9rem;\n  cursor: pointer;\n  @media (max-width: 426px) {\n    font-size: 0.8rem;\n  }\n"]))),ci=b.a.div(Ro||(Ro=Object(v.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 500;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    right: 0.5rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"}),li=b.a.div(Uo||(Uo=Object(v.a)(["\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n"])));var ui,si,fi,hi,di,mi,pi,vi,gi,yi,bi,wi,Ei,xi,Oi,ji,Li,_i,ki=function(){return f.a.createElement(Si,null,f.a.createElement("span",null,"Not found"))},Si=b.a.div(Zo||(Zo=Object(v.a)(["\n  display: flex;\n  span {\n    margin: auto;\n    font-weight: 500;\n  }\n"]))),Ni=n(73);function Gi(){Gi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Pi,Ci,Fi,Ti,Ii,Ai=function(){var e=Object(p.m)(),t=Object(p.o)().chatId,n=Object(s.useState)(null),r=Object(y.a)(n,2),a=r[0],o=r[1],i=Object(s.useState)(null),c=Object(y.a)(i,2),l=c[0],u=c[1],h=Object(s.useState)(null),d=Object(y.a)(h,2),m=d[0],v=d[1],b=Object(D.c)(function(e){return e.user}).user,E=Object(s.useState)(""),x=Object(y.a)(E,2),O=x[0],j=x[1],L=Object(s.useState)(null),_=Object(y.a)(L,2),k=_[0],S=_[1],N=Object(s.useRef)(),G=Object(s.useState)(!1),P=Object(y.a)(G,2),C=P[0],F=P[1],T=function(){var e=Object(g.a)(Gi().mark(function e(){return Gi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/chats").then(function(e){return o(e.data.chats)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(Gi().mark(function e(){return Gi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/direct/".concat(t)).then(function(e){u(e.data.chat)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(Gi().mark(function e(){return Gi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/direct/messages/".concat(t)).then(function(e){v(e.data.messages)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(g.a)(Gi().mark(function e(){var n;return Gi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,w.a.post("/api/v1/direct/".concat(t),{content:O}).then(function(e){j(""),A(),F(!1)});case 3:n=l.users.find(function(e){return e._id!==b._id}),N.current.emit("sendMessage",{sender:b,recieverId:n._id,content:O});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){T(),A(),I()},[t]),Object(s.useEffect)(function(){N.current=Object(Ni.a)("https://social-media-mern.onrender.com"),N.current.on("getMessage",function(e){S({sender:e.sender,content:e.content})})},[]),Object(s.useEffect)(function(){b&&N.current.emit("addUser",b._id)},[b]),Object(s.useEffect)(function(){k&&l&&l.users.find(function(e){return e._id===k.sender._id})&&v(function(e){return[].concat(Object(M.a)(e),[k])})},[k,l]),Object(s.useEffect)(function(){var e=document.getElementById("messagesBody");e&&(e.scrollTop=e.scrollHeight)},[m]),f.a.createElement(f.a.Fragment,null,window.innerWidth>769?f.a.createElement(f.a.Fragment,null,a&&l&&m&&f.a.createElement(zi,null,f.a.createElement(Mi,null,f.a.createElement(Y,null)),f.a.createElement(Di,null,f.a.createElement(Yi,null,f.a.createElement(Ri,null,f.a.createElement("span",null,b.username)),f.a.createElement("hr",null),f.a.createElement(Ui,null,a.map(function(t){return f.a.createElement("div",{style:{cursor:"pointer",margin:"1rem 0"},onClick:function(){return e("/direct/".concat(t._id))}},t.users.map(function(e){if(e._id!==b._id)return f.a.createElement("div",null,f.a.createElement("img",{src:e.avatar.url}),f.a.createElement("span",null,e.name))}))}))),f.a.createElement(Wi,null),f.a.createElement(Hi,null,f.a.createElement(qi,null,f.a.createElement(Bi,null,l.users.map(function(e){if(e._id!==b._id)return f.a.createElement("div",null,f.a.createElement("img",{src:e.avatar.url}),f.a.createElement("span",null,e.name))})),f.a.createElement("hr",null),f.a.createElement(Ji,{id:"messagesBody"},m&&m.map(function(e){return e.sender._id===b._id?f.a.createElement("div",{className:"sender"},f.a.createElement("span",null,e.content),f.a.createElement("img",{src:e.sender.avatar.url})):f.a.createElement("div",{className:"reciever"},f.a.createElement("img",{src:e.sender.avatar.url}),f.a.createElement("span",null,e.content))})),f.a.createElement(Qi,null,f.a.createElement("textarea",{cols:40,rows:1,placeholder:"Message...",value:O,onChange:function(e){return j(e.target.value)}}),f.a.createElement("button",{disabled:""===O||!!C,onClick:z},f.a.createElement("img",{src:"/blue-send.png"})))))))):f.a.createElement(f.a.Fragment,null,a&&l&&m&&f.a.createElement(Vi,null,f.a.createElement(Ki,null,f.a.createElement(Xi,null,f.a.createElement(Zi,null,f.a.createElement("i",{class:"fa-solid fa-chevron-left",onClick:function(){return e("/direct")}}),l.users.map(function(e){if(e._id!==b._id)return f.a.createElement("div",null,f.a.createElement("img",{src:e.avatar.url}),f.a.createElement("span",null,e.name))})),f.a.createElement("hr",null),f.a.createElement($i,{id:"messagesBody"},m&&m.map(function(e){return e.sender._id===b._id?f.a.createElement("div",{className:"sender"},f.a.createElement("span",null,e.content),f.a.createElement("img",{src:e.sender.avatar.url})):f.a.createElement("div",{className:"reciever"},f.a.createElement("img",{src:e.sender.avatar.url}),f.a.createElement("span",null,e.content))})),f.a.createElement(ec,null,f.a.createElement("textarea",{cols:40,rows:1,placeholder:"Message...",value:O,onChange:function(e){return j(e.target.value)}}),f.a.createElement("button",{disabled:""===O||!!C,onClick:z},f.a.createElement("img",{src:"/blue-send.png"}))))))))},zi=b.a.div(ui||(ui=Object(v.a)(["\n  display: flex;\n"]))),Mi=b.a.div(si||(si=Object(v.a)(["\n  flex: 0.25;\n"]))),Di=b.a.div(fi||(fi=Object(v.a)(["\n  flex: 0.65;\n  display: flex;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 50rem;\n  height: 90vh;\n  margin-top: 3vh;\n"]))),Wi=b.a.div(hi||(hi=Object(v.a)(["\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  height: 100%;\n"]))),Yi=b.a.div(di||(di=Object(v.a)(["\n  flex: 0.35;\n"]))),Ri=b.a.div(mi||(mi=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  font-weight: 500;\n  padding: 1rem 0;\n"]))),Ui=b.a.div(pi||(pi=Object(v.a)(["\n  padding: 1rem;\n  div {\n    display: flex;\n    align-items: center;\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n      border-radius: 50%;\n      margin-right: 0.5rem;\n    }\n  }\n"]))),Hi=b.a.div(vi||(vi=Object(v.a)(["\n  flex: 0.65;\n  display: flex;\n"]))),qi=b.a.div(gi||(gi=Object(v.a)(["\n  width: 100%;\n  position: relative;\n"]))),Bi=b.a.div(yi||(yi=Object(v.a)(["\n  display: flex;\n  padding: 0.8rem 1rem;\n  font-weight: 500;\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin-right: 1rem;\n  }\n"]))),Ji=b.a.div(bi||(bi=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  overflow-y: scroll;\n  height: 80%;\n  div {\n    margin: 0.5rem 0;\n  }\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin: 0 0.5rem;\n  }\n  span {\n    padding: 0.5rem 1rem;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 1.5rem;\n  }\n  .sender {\n    align-self: flex-end;\n    span {\n      background-color: #e0e0e0;\n      border: none;\n    }\n  }\n  .reciever {\n    align-self: flex-start;\n  }\n"]))),Qi=b.a.div(wi||(wi=Object(v.a)(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  padding: 1rem;\n  width: 100%;\n  align-items: center;\n  textarea {\n    width: 100%;\n    resize: none;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 2rem;\n    padding: 0.5rem 1rem;\n    outline: none;\n  }\n  img {\n    margin-left: 1rem;\n    width: 2rem;\n    height: 2rem;\n    cursor: pointer;\n  }\n  button {\n    border: none;\n    background: transparent;\n  }\n"]))),Vi=b.a.div(Ei||(Ei=Object(v.a)(["\n  display: flex;\n  height: 90vh;\n"]))),Ki=b.a.div(xi||(xi=Object(v.a)(["\n  display: flex;\n  width: 100%;\n"]))),Xi=b.a.div(Oi||(Oi=Object(v.a)(["\n  width: 100%;\n  position: relative;\n  height: 100%;\n"]))),Zi=b.a.div(ji||(ji=Object(v.a)(["\n  display: flex;\n  padding: 0.8rem 1rem;\n  font-weight: 500;\n  position: relative;\n  align-items: center;\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin-right: 1rem;\n  }\n  i {\n    font-size: 1.5rem;\n    margin-right: 1rem;\n  }\n"]))),$i=b.a.div(Li||(Li=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  overflow-y: scroll;\n  height: 80%;\n  margin-bottom: 0.5rem;\n  div {\n    margin: 0.5rem 0;\n  }\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin: 0 0.5rem;\n  }\n  span {\n    padding: 0.5rem 1rem;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 1.5rem;\n  }\n  .sender {\n    align-self: flex-end;\n    span {\n      background-color: #e0e0e0;\n      border: none;\n    }\n  }\n  .reciever {\n    align-self: flex-start;\n  }\n"]))),ec=b.a.div(_i||(_i=Object(v.a)(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  padding: 1rem;\n  width: 100%;\n  align-items: center;\n  textarea {\n    width: 100%;\n    resize: none;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 2rem;\n    padding: 0.5rem 1rem;\n    outline: none;\n  }\n  img {\n    margin-left: 1rem;\n    width: 2rem;\n    height: 2rem;\n    cursor: pointer;\n  }\n  button {\n    border: none;\n    background: transparent;\n  }\n"])));function tc(){tc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var nc=function(){var e=Object(p.m)(),t=Object(s.useState)(null),n=Object(y.a)(t,2),r=n[0],a=n[1],o=Object(D.c)(function(e){return e.user}).user,i=function(){var e=Object(g.a)(tc().mark(function e(){return tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/v1/chats").then(function(e){return a(e.data.chats)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){i()},[]),f.a.createElement(f.a.Fragment,null,r&&f.a.createElement(rc,null,f.a.createElement(ac,null,f.a.createElement(oc,null,f.a.createElement("i",{class:"fa-solid fa-chevron-left",onClick:function(){return e("/home")}}),f.a.createElement("span",null,o.username)),f.a.createElement("hr",null),r&&r.length>0?f.a.createElement(ic,null,r.map(function(t){if(t.messagesCount>0)return f.a.createElement("div",{style:{cursor:"pointer",margin:"1rem 0"},onClick:function(){return e("/direct/".concat(t._id))}},t.users.map(function(e){if(e._id!==o._id)return f.a.createElement("div",null,f.a.createElement("img",{src:e.avatar.url}),f.a.createElement("span",null,e.name))}))})):f.a.createElement(cc,null," ",f.a.createElement("img",{src:"/send.png"}),f.a.createElement("span",{style:{fontSize:"1.4rem"}},"Your Messages"),f.a.createElement("span",null,"Send private photos and messages to a friend.")))))},rc=b.a.div(Pi||(Pi=Object(v.a)(["\n  display: flex;\n"]))),ac=b.a.div(Ci||(Ci=Object(v.a)(["\n  width: 100%;\n"]))),oc=b.a.div(Fi||(Fi=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  font-weight: 500;\n  padding: 1rem 0;\n  position: relative;\n  i {\n    position: absolute;\n    left: 1rem;\n    top: 1rem;\n    font-size: 1.5rem;\n  }\n"]))),ic=b.a.div(Ti||(Ti=Object(v.a)(["\n  padding: 1rem;\n  div {\n    display: flex;\n    align-items: center;\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n      border-radius: 50%;\n      margin-right: 0.5rem;\n    }\n  }\n"]))),cc=b.a.div(Ii||(Ii=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 5vh auto;\n  text-align: center;\n  width: 95%;\n\n  img {\n    width: 3rem;\n    height: 3rem;\n    margin-bottom: 1rem;\n  }\n"])));var lc=function(){return At.a.get("token")&&Tt.dispatch(Ut()),f.a.createElement(m.a,null,f.a.createElement("div",{className:"App"},window.innerWidth>769&&f.a.createElement(Vr,null),window.innerWidth>769&&f.a.createElement(va,null),window.innerWidth>769&&f.a.createElement(Sa,null),f.a.createElement(p.d,null,f.a.createElement(p.b,{path:"/",element:f.a.createElement(Xt,null,f.a.createElement(G,null))}),f.a.createElement(p.b,{path:"/register",element:f.a.createElement(tn,null,f.a.createElement(qt,null))}),f.a.createElement(p.b,{path:"/p/:postId",element:window.innerWidth>769?f.a.createElement(Lr,null):f.a.createElement($o,null)}),f.a.createElement(p.b,{path:"/home",element:f.a.createElement(kt,null,f.a.createElement(bt,null))}),f.a.createElement(p.b,{path:"/direct",element:f.a.createElement(kt,null,window.innerWidth>769?f.a.createElement(na,null):f.a.createElement(nc,null))}),f.a.createElement(p.b,{path:"/direct/:chatId",element:f.a.createElement(kt,null,f.a.createElement(Ai,null))}),f.a.createElement(p.b,{path:"/:username",element:f.a.createElement(f.a.Fragment,null,window.innerWidth>769?f.a.createElement(An,null):f.a.createElement(xo,null))}),f.a.createElement(p.b,{path:"/p/:postId/comments",element:f.a.createElement(kt,null,window.innerWidth<769?f.a.createElement(Ma,null):f.a.createElement(Lr,null))}),f.a.createElement(p.b,{path:"/notifications",element:f.a.createElement(kt,null,f.a.createElement(Ja,null))}),f.a.createElement(p.b,{path:"/search",element:f.a.createElement(kt,null,f.a.createElement(so,null))}),f.a.createElement(p.b,{path:"/accounts/edit",element:f.a.createElement(kt,null,f.a.createElement(Ho,null))}),f.a.createElement(p.b,{path:"/notfound",element:f.a.createElement(ki,null)}))))},uc=n(52),sc=n(72),fc={timeout:5e3,position:uc.b.BOTTOM_CENTER,transition:uc.c.SCALE};d.a.createRoot(document.getElementById("root")).render(f.a.createElement(D.a,{store:Tt},f.a.createElement(uc.a,Object.assign({template:sc.a},fc),f.a.createElement(lc,null))))}},[[74,2,1]]]);
//# sourceMappingURL=main.bef1588c.chunk.js.map